<html>

<head>
<title>NodeBox | Photobox</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="imagetoolbar" content="no" />
<meta http-equiv="linode" content="true"/>
<meta name="description" content="" />
<meta name="keywords" content="NodeBox, shared 2008-09-22-15-50-16, question" />
<link rel="alternate" type="application/rss+xml" title="NodeBox News Feed" href="https://nodebox.net/code/data/rss.xml" />
<link rel="canonical" href="https://nodebox.net/code/index.php/shared_2008-09-22-15-50-16" />
<link type="text/css" rel="stylesheet" media="screen" href="../../media/css/nbar.css">

<script type="text/javascript" src="../js/pop.js"></script>
<script type="text/javascript" src="../js/confirm.js"></script>
<link href="../css/default.css" rel="stylesheet" type="text/css" />
<link href="../css/print.css" rel="stylesheet" type="text/css" media="print" />
<!--[if gte IE 5.5]>
<script type="text/javascript" src="/code/js/pngfix.js"></script>
<![endif]-->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1668598-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body id="body" >
<div class="nbar">
  <ol>
    <li><a class="node" href="https://www.nodebox.net/code/">NodeBox 1<span class="nbar-arrow"></span></a>
      <ol class="nbar-dropdown">
        <li><a href="https://www.nodebox.net/">Homepage</a></li>
        <li><a href="https://www.nodebox.net/node/">NodeBox 3<small>Node-based app for generative design and data visualization</small></a></li>
        <li><a href="https://www.nodebox.net/opengl/">NodeBox OpenGL<small>Hardware-accelerated cross-platform graphics library</small></a></li>
        <li><a href="https://www.nodebox.net/code/">NodeBox 1<small>Generate 2D visuals using Python code (Mac OS X only)</small></a></li>
      </ol>
    </li>
    <li><a class="gallery" href="https://www.nodebox.net/gallery/">Gallery</a></li>
    <li><a class="documentation" href="Tutorial.html">Documentation</a></li>
    <li><a class="forum" href="http://support.nodebox.net/discussions">Forum</a></li>
    <li><a class="blog" href="https://www.nodebox.net/blog/">Blog</a></li>
  </ol>
</div>


<div id="all">
<div id="header_and_navigation">

<div id="header">
<a href="Home.html"><img id="header_image" src="../g/header-small.jpg" width="800" /></a></div>

<div id="title">
<a href="Home.html"><h1>NodeBox</h1>
<strong><em>Create visual output with Python programming code</em></strong>
</a></div>

<div id="contextual">
<div id="languages">
 
</div>

<div id="search">
<form id = "sf" method="get">
<input type="text" id="q" name="q" value="" />
<a href="javascript:document.getElementById('sf').submit();">GO</a>
</form>
</div>

</div>

<div id="navigation">
<div id="navigation_public">
<a id="" href="Home.html">Home</a> 
<a id="" href="Download.html">Download</a> 
<a id="" href="Reference.html">Reference</a> 
<a id="" href="Tutorial.html">Tutorial</a> 
<a id="" href="Library.html">Library</a> 
<a id="" href="Gallery.html">Gallery</a> 
<a id="" href="Share.html">Share</a> 
<a id="" href="About.html">About</a> 
</div>
</div>
 
</div>

<div id="content">

<div id="nodebox-link">
<a href="Home.html"><img src="../g/transparent.gif" /></a>
</div>

<div class="inside">
<? if (do_name() != 'Home') : ?>
 <? endif ?>
<br /><div class="comment"><h1 id="shared-title">Photobox</h1>
<strong>Posted by <span class="comment_by">Jeremy</span> on <em class="date">Sep 22, 2008</em></strong>
<p>My tif files will not display the transparency data when using Photobox. I tried the same files with CoreImage and it 'respected' the transparency.<br><br>Is there something wrong with my code?<pre class="python">pb = <span style="color: #530035;">ximport</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;photobot&quot;</span><span style="">&#41;</span>
c = pb.<span style="">canvas</span><span style="">&#40;</span><span style="">750</span>, <span style="">750</span><span style="">&#41;</span>
<span style="">reload</span><span style="">&#40;</span>pb<span style="">&#41;</span>
&nbsp;
<span style="color: grey;">#f = files(&quot;images/*.tif&quot;)</span>
<span style="color: grey;">#image(choice(f), 10, 10)</span>
&nbsp;
tiles = <span style="">&#91;</span><span style="color: #ff0080;">&quot;_images/1.tif&quot;</span>, <span style="color: #ff0080;">&quot;_images/2.tif&quot;</span>, <span style="color: #ff0080;">&quot;_images/3.tif&quot;</span>, <span style="color: #ff0080;">&quot;_images/4.tif&quot;</span>, <span style="color: #ff0080;">&quot;_images/5.tif&quot;</span>, <span style="color: #ff0080;">&quot;_images/6.tif&quot;</span>, <span style="color: #ff0080;">&quot;_images/7.tif&quot;</span>, <span style="color: #ff0080;">&quot;_images/8.tif&quot;</span><span style="">&#93;</span>
&nbsp;
c.<span style="color: #530035;">fill</span><span style="">&#40;</span><span style="">&#40;</span><span style="">255</span>,<span style="">255</span>,<span style="">255</span><span style="">&#41;</span><span style="">&#41;</span>
c.<span style="">layer</span><span style="">&#40;</span><span style="color: #530035;">choice</span><span style="">&#40;</span>tiles<span style="">&#41;</span><span style="">&#41;</span>  
n = <span style="">3</span>
&nbsp;
<span style="color: #530035;">for</span> i <span style="color: #530035;">in</span> <span style="">range</span><span style="">&#40;</span><span style="">64</span><span style="">&#41;</span>:
&nbsp;
 c.<span style="">layer</span><span style="">&#40;</span><span style="color: #530035;">choice</span><span style="">&#40;</span>tiles<span style="">&#41;</span><span style="">&#41;</span>
 c.<span style="">layers</span><span style="">&#91;</span>n+i<span style="">&#93;</span>.<span style="">contrast</span><span style="">&#40;</span><span style="">1.1</span><span style="">&#41;</span>
 w, h = c.<span style="">layers</span><span style="">&#91;</span>i+n<span style="">&#93;</span>.<span style="">bounds</span><span style="">&#40;</span><span style="">&#41;</span>
&nbsp;
 c.<span style="">gradient</span><span style="">&#40;</span>pb.<span style="">LINEAR</span>, w/<span style="">2</span>, h<span style="">&#41;</span>
 c.<span style="">layers</span><span style="">&#91;</span>n+i<span style="">+1</span><span style="">&#93;</span>.<span style="">flip</span><span style="">&#40;</span><span style="">&#41;</span>
 c.<span style="">layers</span><span style="">&#91;</span>n+i<span style="">+1</span><span style="">&#93;</span>.<span style="color: #530035;">translate</span><span style="">&#40;</span>w/<span style="">2</span>, <span style="">0</span><span style="">&#41;</span>
 c.<span style="">gradient</span><span style="">&#40;</span>pb.<span style="">LINEAR</span>, w/<span style="">2</span>, h<span style="">&#41;</span>
 c.<span style="">merge</span><span style="">&#40;</span><span style="">&#91;</span>n+i<span style="">+1</span>, n+i<span style="">+2</span><span style="">&#93;</span><span style="">&#41;</span>
 c.<span style="">layers</span><span style="">&#91;</span>n+i<span style="">+1</span><span style="">&#93;</span>.<span style="">brightness</span><span style="">&#40;</span><span style="color: #530035;">random</span><span style="">&#40;</span><span style="">4</span><span style="">&#41;</span><span style="">&#41;</span>
 c.<span style="">layers</span><span style="">&#91;</span>n+i<span style="">+1</span><span style="">&#93;</span>.<span style="">mask</span><span style="">&#40;</span><span style="">&#41;</span>
&nbsp;
 c.<span style="">layers</span><span style="">&#91;</span>n+i<span style="">&#93;</span>.<span style="color: #530035;">rotate</span><span style="">&#40;</span><span style="color: #530035;">random</span><span style="">&#40;</span><span style="">90</span><span style="">&#41;</span><span style="">&#41;</span>
&nbsp;
 c.<span style="">layers</span><span style="">&#91;</span>n+i<span style="">&#93;</span>.<span style="color: #530035;">translate</span><span style="">&#40;</span>i*w/<span style="">3</span>, <span style="">0</span><span style="">&#41;</span>
&nbsp;
 <span style="color: #530035;">if</span> <span style="color: #530035;">random</span><span style="">&#40;</span><span style="">&#41;</span> &gt; <span style="">0.5</span>: c.<span style="">layers</span><span style="">&#91;</span>n+i<span style="">&#93;</span>.<span style="">flip</span><span style="">&#40;</span><span style="">&#41;</span>
 <span style="color: #530035;">if</span> <span style="color: #530035;">random</span><span style="">&#40;</span><span style="">&#41;</span> &gt; <span style="">0.5</span>: c.<span style="">layers</span><span style="">&#91;</span>n+i<span style="">&#93;</span>.<span style="">blur</span><span style="">&#40;</span><span style="">&#41;</span>
&nbsp;
c.<span style="color: #530035;">fill</span><span style="">&#40;</span><span style="">&#40;</span><span style="">200</span>,<span style="">100</span>,<span style="">0</span><span style="">&#41;</span><span style="">&#41;</span>
c.<span style="">layers</span><span style="">&#91;</span>n+i<span style="">+1</span><span style="">&#93;</span>.<span style="">opacity</span><span style="">&#40;</span><span style="">60</span><span style="">&#41;</span>
c.<span style="">layers</span><span style="">&#91;</span>n+i<span style="">+1</span><span style="">&#93;</span>.<span style="">hue</span><span style="">&#40;</span><span style="">&#41;</span>
&nbsp;
<span style="color: grey;">#c.layer(&quot;_images/1.tif&quot;)</span>
c.<span style="">layers</span><span style="">&#91;</span>n+i<span style="">+1</span><span style="">&#93;</span>.<span style="">opacity</span><span style="">&#40;</span><span style="">40</span><span style="">&#41;</span>
c.<span style="">layers</span><span style="">&#91;</span>n+i<span style="">+1</span><span style="">&#93;</span>.<span style="">overlay</span><span style="">&#40;</span><span style="">&#41;</span>
&nbsp;
c.<span style="">draw</span><span style="">&#40;</span><span style="">100</span>, <span style="">100</span><span style="">&#41;</span></pre></pre></b></i></a></ul></li></pre></p><br /></div>
&nbsp;<hr /><div class='comment'><strong>Posted by <span class="comment_by">impiaaa</span> on <em class="date">Sep 24, 2008</em></strong><p>I don't think there's anything wrong with your code, because from my experience, TIFF images aren't very nice with alpha channels. Try converting them to PNGs instead. </b></i></a></ul></li></pre></p><br /></div><hr /><div class='comment'><strong>Posted by <span class="comment_by">Tom De Smedt</span> on <em class="date">Sep 25, 2008</em></strong><p>As impiaaa suggests, use PNG images with transparency. PhotoBot doesn't handle transparent TIFF, and at the moment we are not actively developing PhotoBot. If for some reason you can only use TIFF, I'd suggest switching to the Core Image libray. </b></i></a></ul></li></pre></p><br /></div><? include("util/comment.php"); ?>
</div>
  
</div>

<div id="footer">
Last modified: Sep 25 2008 | &copy; 2004-2012 <a href="http://www.emrg.be/" class="noexternal">Experimental Media Research Group</a>
</div>
<img src="../g/footer.jpg" style="border:0" class="footer" width="800" height="334" />

</div>

<script>
try{e=document.getElementsByTagName("span");for(i=0;i<e.length;i++){if(e[i].className=="header_image"){src=e[i].getElementsByTagName("img")[0].src;document.getElementById("header_image").src=src;break;}}}catch(e){}
</script>
</body>

</html>