<html>

<head>
<title>NodeBox | Commands</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="imagetoolbar" content="no" />
<meta http-equiv="linode" content="true"/>
<meta name="description" content="" />
<meta name="keywords" content="NodeBox, Commands, " />
<link rel="alternate" type="application/rss+xml" title="NodeBox News Feed" href="https://nodebox.net/code/data/rss.xml" />
<link rel="canonical" href="https://nodebox.net/code/index.php/Commands" />
<link type="text/css" rel="stylesheet" media="screen" href="../../media/css/nbar.css">

<script type="text/javascript" src="../js/pop.js"></script>
<script type="text/javascript" src="../js/confirm.js"></script>
<link href="../css/default.css" rel="stylesheet" type="text/css" />
<link href="../css/print.css" rel="stylesheet" type="text/css" media="print" />
<!--[if gte IE 5.5]>
<script type="text/javascript" src="/code/js/pngfix.js"></script>
<![endif]-->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1668598-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body id="body" >
<div class="nbar">
  <ol>
    <li><a class="node" href="https://www.nodebox.net/code/">NodeBox 1<span class="nbar-arrow"></span></a>
      <ol class="nbar-dropdown">
        <li><a href="https://www.nodebox.net/">Homepage</a></li>
        <li><a href="https://www.nodebox.net/node/">NodeBox 3<small>Node-based app for generative design and data visualization</small></a></li>
        <li><a href="https://www.nodebox.net/opengl/">NodeBox OpenGL<small>Hardware-accelerated cross-platform graphics library</small></a></li>
        <li><a href="https://www.nodebox.net/code/">NodeBox 1<small>Generate 2D visuals using Python code (Mac OS X only)</small></a></li>
      </ol>
    </li>
    <li><a class="gallery" href="https://www.nodebox.net/gallery/">Gallery</a></li>
    <li><a class="documentation" href="Tutorial.html">Documentation</a></li>
    <li><a class="forum" href="http://support.nodebox.net/discussions">Forum</a></li>
    <li><a class="blog" href="https://www.nodebox.net/blog/">Blog</a></li>
  </ol>
</div>


<div id="all">
<div id="header_and_navigation">

<div id="header">
<a href="Home.html"><img id="header_image" src="../g/header-small.jpg" width="800" /></a></div>

<div id="title">
<a href="Home.html"><h1>NodeBox</h1>
<strong><em>Create visual output with Python programming code</em></strong>
</a></div>

<div id="contextual">
<div id="languages">
 
</div>

<div id="search">
<form id = "sf" method="get">
<input type="text" id="q" name="q" value="" />
<a href="javascript:document.getElementById('sf').submit();">GO</a>
</form>
</div>

</div>

<div id="navigation">
<div id="navigation_public">
<a id="" href="Home.html">Home</a> 
<a id="" href="Download.html">Download</a> 
<a id="" href="Reference.html">Reference</a> 
<a id="" href="Tutorial.html">Tutorial</a> 
<a id="" href="Library.html">Library</a> 
<a id="" href="Gallery.html">Gallery</a> 
<a id="" href="Share.html">Share</a> 
<a id="" href="About.html">About</a> 
</div>
</div>
 
</div>

<div id="content">

<div id="nodebox-link">
<a href="Home.html"><img src="../g/transparent.gif" /></a>
</div>

<div class="inside">
<? if (do_name() != 'Home') : ?>
 <h3>Commands</h3><? endif ?>
<p>Aside from the predefined commands in the NodeBox <a href="Reference.html" target="_self">reference</a> you can also define your own custom commands. Creating a command is a design strategy in which you re-use certain actions or pieces of your script.</p><p><span class="media"><img src="../data/media/templating1.jpg" alt="" width="652" height="509" /></span> </p> <p>For example, in the above example all the actions to draw a flower (ten red-pinkish ovals connected by lines) are grouped in a handy flower() command. This command can then be called one time, a hundred times, or a thousand times. We only need to define the actions to draw a flower <strong>once</strong>. If we want to modify the way a flower is drawn, we only need to modify the code <strong>at one location</strong>.</p><p>Defining your own commands is like composing your own <strong>toolbox</strong>, with a set of tools that you can apply to your creations over and over. <br /></p><h2>Command definition<br /></h2>  <p>As a simple example I&#39;ve defined my own <em>header()</em> command below:</p>  <pre class="python"><span style="color: #530035;">def</span> <span style='color:rgb(255,0,50)'>header</span><span style="">&#40;</span>txt, x, y<span style="">&#41;</span>:
  <span style="color: #530035;">fill</span><span style="">&#40;</span><span style="">1</span>, <span style="">0</span>, <span style="">0</span><span style="">&#41;</span>
  <span style="color: #530035;">font</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;Dolly-Bold&quot;</span>, <span style="">18</span><span style="">&#41;</span>
  <span style="color: #530035;">text</span><span style="">&#40;</span>txt, x, y<span style="">&#41;</span></pre></pre>  <p>The definition of a command starts with <strong>def</strong>, followed by the name of the command (pick a relevant name), and a list of <em>parameters</em>. Don&#39;t forget the colon at the end of the line - this tells NodeBox that the intented statements below are what the command does.</p><p><u>Naming conventions:</u></p><ul><li>Use a simple and relevant word that describes what the command does.</li><li>Use <span class="inline_code">lower_case_with_underscores</span> (except for essential commands like <span class="inline_code">imagesize</span>).</li><li>Commands that return True or False start with <span class="inline_code">is</span>: <span class="inline_code">is_white</span>, <span class="inline_code">is_alive</span>, <span class="inline_code">is_big</span>, ...</li><li>Commands that <em>change and return</em> a value use a verb: <span class="inline_code">adjust_contrast</span>, <span class="inline_code">strip_tags</span>, ...<br /></li></ul>  <h2>Parameters</h2>  <p>Command definitions are not executed by themselves: you are instead teaching NodeBox something, for example, what a header is. Command definitions need to be <em>called</em> from somewhere else in the script. This is where parameters come in: notice how the definition of <em>header()</em> uses a <em>txt</em>, a <em>x</em>, and a <em>y</em> parameter. Theses are used like <a href="Variables.html">variables</a> inside the definition. Once the command is called, you supply real values for <em>txt</em>, <em>x</em> and <em>y</em>.</p>  <pre class="python">header<span style="">&#40;</span><span style="color: #ff0080;">&quot;Templating&quot;</span>, <span style="">20</span>, <span style="">40</span><span style="">&#41;</span></pre></pre>  <p>NodeBox would now execute all of the code in the <em>header()</em> definition, with <em>txt</em> being &quot;Templating&quot;, <em>x</em> being 20, and <em>y</em> being 40.</p>  <h2>Return value</h2>  <p>You may have noticed that some commands in NodeBox have a return value that you can store in a variable. For example, <em>textheight(txt, w)</em> returns the height of a paragraph displaying <em>txt</em> with a width of <em>w</em>.</p>  <pre class="python"><span style="color: #530035;">def</span> <span style='color:rgb(255,0,50)'>paragraph</span><span style="">&#40;</span>txt, x, y, w<span style="">&#41;</span>:
  <span style="color: #530035;">fill</span><span style="">&#40;</span><span style="">0.2</span><span style="">&#41;</span>
  <span style="color: #530035;">font</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;Dolly-Roman&quot;</span>, <span style="">14</span><span style="">&#41;</span>
  <span style="color: #530035;">text</span><span style="">&#40;</span>txt, x, y, w<span style="">&#41;</span>
  <span style="color: #530035;">return</span> <span style="color: #530035;">textheight</span><span style="">&#40;</span>txt, w<span style="">&#41;</span></pre></pre>  <p>The <strong>return</strong> statement inside a definition returns a value. This can be any number of things, a number, a <a href="Strings.html">string</a>, a <a href="Lists.html">list</a>. The return statement always comes last inside the definition.</p>  <h2>Example</h2>  <p>In the example below, we put two identical scripts next to each other, one using plain top-to-bottom scripting and one using templates. The first script is in fact less code, but imagine it would draw not two but twenty paragraphs... then you would have to define fonts and colors over and over again, and probably end up feeling like a robot trying to explain something to another robot.</p>  <p>Moreover, changing the header color or the horizontal margin is much easier in the second script because we have to do it only once: by changing the code in the <em>header()</em> definition or by changing the value of the <em>x</em> variable.</p>  <p>&nbsp;</p>  <table border="0"> <tbody><tr> <td><img src="../data/media/templating2.jpg" alt="" /><br /><br /> The script with plain top-to-bottom scripting. Notice its repetitiveness.</td> <td><img src="../data/media/templating3.jpg" alt="" /><br /><br /> The same script with templates.</td> </tr> <tr> <td> <pre class="python"><span style="color: #530035;">fill</span><span style="">&#40;</span><span style="">1</span>, <span style="">0</span>, <span style="">0.25</span><span style="">&#41;</span>
<span style="color: #530035;">font</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;Dolly-Bold&quot;</span>, <span style="">14</span><span style="">&#41;</span>
txt = <span style="color: #ff0080;">&quot;Without templating&quot;</span>
<span style="color: #530035;">text</span><span style="">&#40;</span>txt, <span style="">20</span>, <span style="">30</span>, <span style="">200</span><span style="">&#41;</span>
&nbsp;
<span style="color: #530035;">fill</span><span style="">&#40;</span><span style="">0.2</span><span style="">&#41;</span>
<span style="color: #530035;">font</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;Dolly-Roman&quot;</span>, <span style="">14</span><span style="">&#41;</span>
txt = <span style="color: #ff0080;">&quot;Without templating, ...&quot;</span>
<span style="color: #530035;">text</span><span style="">&#40;</span>txt, <span style="">20</span>, <span style="">50</span>, <span style="">200</span><span style="">&#41;</span>
&nbsp;
<span style="color: #530035;">fill</span><span style="">&#40;</span><span style="">1</span>, <span style="">0</span>, <span style="">0.25</span><span style="">&#41;</span>
<span style="color: #530035;">font</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;Dolly-Bold&quot;</span>, <span style="">14</span><span style="">&#41;</span>
txt = <span style="color: #ff0080;">&quot;Messy&quot;</span>
<span style="color: #530035;">text</span><span style="">&#40;</span>txt, <span style="">20</span>, <span style="">120</span>, <span style="">200</span><span style="">&#41;</span>
&nbsp;
<span style="color: #530035;">fill</span><span style="">&#40;</span><span style="">0.2</span><span style="">&#41;</span>
<span style="color: #530035;">font</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;Dolly-Roman&quot;</span>, <span style="">14</span><span style="">&#41;</span>
txt = <span style="color: #ff0080;">&quot;This makes your script....&quot;</span>
<span style="color: #530035;">text</span><span style="">&#40;</span>txt, <span style="">20</span>, <span style="">140</span>, <span style="">200</span><span style="">&#41;</span></pre></pre> </td> <td><pre class="python"><span style="color: #530035;">def</span> <span style='color:rgb(255,0,50)'>header</span><span style="">&#40;</span>txt, x, y<span style="">&#41;</span>:
    <span style="color: #530035;">fill</span><span style="">&#40;</span><span style="">1</span>, <span style="">0</span>, <span style="">0.25</span><span style="">&#41;</span>
    <span style="color: #530035;">font</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;Dolly-Bold&quot;</span>, <span style="">14</span><span style="">&#41;</span>
    <span style="color: #530035;">text</span><span style="">&#40;</span>txt, x, y, outline=<span style="color: #530035;">True</span><span style="">&#41;</span>
    <span style="color: #530035;">return</span> <span style="color: #530035;">textheight</span><span style="">&#40;</span>txt<span style="">&#41;</span>
&nbsp;
<span style="color: #530035;">def</span> <span style='color:rgb(255,0,50)'>paragraph</span><span style="">&#40;</span>txt, x, y, w<span style="">&#41;</span>:
    <span style="color: #530035;">fill</span><span style="">&#40;</span><span style="">0.2</span><span style="">&#41;</span>
    <span style="color: #530035;">font</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;Dolly-Roman&quot;</span>, <span style="">14</span><span style="">&#41;</span>
    <span style="color: #530035;">text</span><span style="">&#40;</span>txt, x, y, w, outline=<span style="color: #530035;">True</span><span style="">&#41;</span>
    <span style="color: #530035;">return</span> <span style="color: #530035;">textheight</span><span style="">&#40;</span>txt, w<span style="">&#41;</span>
&nbsp;
x = <span style="">20</span>
y = <span style="">30</span>
w = <span style="">200</span>
&nbsp;
y += header<span style="">&#40;</span><span style="color: #ff0080;">&quot;With templating&quot;</span>, x, y<span style="">&#41;</span>
txt = <span style="color: #ff0080;">&quot;With templating, ...&quot;</span>
y += paragraph<span style="">&#40;</span>txt, x, y, w<span style="">&#41;</span> + <span style="">10</span>
&nbsp;
y += header<span style="">&#40;</span><span style="color: #ff0080;">&quot;Clean&quot;</span>, x, y<span style="">&#41;</span>
txt = <span style="color: #ff0080;">&quot;This keeps your script...&quot;</span>
paragraph<span style="">&#40;</span>txt, x, y, w<span style="">&#41;</span></pre></pre> </td> </tr> </tbody></table>  <? include("util/comment.php"); ?>
</div>
  
</div>

<div id="footer">
Last modified: Dec 04 2007 | &copy; 2004-2012 <a href="http://www.emrg.be/" class="noexternal">Experimental Media Research Group</a>
</div>
<img src="../g/footer.jpg" style="border:0" class="footer" width="800" height="334" />

</div>

<script>
try{e=document.getElementsByTagName("span");for(i=0;i<e.length;i++){if(e[i].className=="header_image"){src=e[i].getElementsByTagName("img")[0].src;document.getElementById("header_image").src=src;break;}}}catch(e){}
</script>
</body>

</html>