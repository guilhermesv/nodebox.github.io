<html>

<head>
<title>NodeBox | Classes</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="imagetoolbar" content="no" />
<meta http-equiv="linode" content="true"/>
<meta name="description" content="" />
<meta name="keywords" content="NodeBox, Classes, " />
<link rel="alternate" type="application/rss+xml" title="NodeBox News Feed" href="https://nodebox.net/code/data/rss.xml" />
<link rel="canonical" href="https://nodebox.net/code/index.php/Classes" />
<link type="text/css" rel="stylesheet" media="screen" href="../../media/css/nbar.css">

<script type="text/javascript" src="../js/pop.js"></script>
<script type="text/javascript" src="../js/confirm.js"></script>
<link href="../css/default.css" rel="stylesheet" type="text/css" />
<link href="../css/print.css" rel="stylesheet" type="text/css" media="print" />
<!--[if gte IE 5.5]>
<script type="text/javascript" src="/code/js/pngfix.js"></script>
<![endif]-->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1668598-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body id="body" >
<div class="nbar">
  <ol>
    <li><a class="node" href="https://www.nodebox.net/code/">NodeBox 1<span class="nbar-arrow"></span></a>
      <ol class="nbar-dropdown">
        <li><a href="https://www.nodebox.net/">Homepage</a></li>
        <li><a href="https://www.nodebox.net/node/">NodeBox 3<small>Node-based app for generative design and data visualization</small></a></li>
        <li><a href="https://www.nodebox.net/opengl/">NodeBox OpenGL<small>Hardware-accelerated cross-platform graphics library</small></a></li>
        <li><a href="https://www.nodebox.net/code/">NodeBox 1<small>Generate 2D visuals using Python code (Mac OS X only)</small></a></li>
      </ol>
    </li>
    <li><a class="gallery" href="https://www.nodebox.net/gallery/">Gallery</a></li>
    <li><a class="documentation" href="Tutorial.html">Documentation</a></li>
    <li><a class="forum" href="http://support.nodebox.net/discussions">Forum</a></li>
    <li><a class="blog" href="https://www.nodebox.net/blog/">Blog</a></li>
  </ol>
</div>


<div id="all">
<div id="header_and_navigation">

<div id="header">
<a href="Home.html"><img id="header_image" src="../g/header-small.jpg" width="800" /></a></div>

<div id="title">
<a href="Home.html"><h1>NodeBox</h1>
<strong><em>Create visual output with Python programming code</em></strong>
</a></div>

<div id="contextual">
<div id="languages">
 
</div>

<div id="search">
<form id = "sf" method="get">
<input type="text" id="q" name="q" value="" />
<a href="javascript:document.getElementById('sf').submit();">GO</a>
</form>
</div>

</div>

<div id="navigation">
<div id="navigation_public">
<a id="" href="Home.html">Home</a> 
<a id="" href="Download.html">Download</a> 
<a id="" href="Reference.html">Reference</a> 
<a id="" href="Tutorial.html">Tutorial</a> 
<a id="" href="Library.html">Library</a> 
<a id="" href="Gallery.html">Gallery</a> 
<a id="" href="Share.html">Share</a> 
<a id="" href="About.html">About</a> 
</div>
</div>
 
</div>

<div id="content">

<div id="nodebox-link">
<a href="Home.html"><img src="../g/transparent.gif" /></a>
</div>

<div class="inside">
<? if (do_name() != 'Home') : ?>
 <h3>Classes</h3><? endif ?>
<p>If you read about <a href="Variables.html" target="_self">variables</a>, <a href="Repetition.html" target="_self">repetition</a> and <a href="Commands.html" target="_self">commands</a> you already know a great deal about how to keep your code tidy and organized. Variables can be used to store data, commands to manipulate data, and for-loops to do things (e.g. traverse <a href="Lists.html" target="_self">lists</a>) multiple times. As you move on to bigger projects you&#39;ll probably want to learn about classes as well. A class is a programming convention that defines a thing (or <b>object</b>) together with all of the thing&#39;s <b>properties</b> (e.g. variables) and behavior <b>methods</b> (e.g. commands). If you take a look at the source code of NodeBox libraries you&#39;ll notice that they are full of classes. </p><p>For example, a <i>Creature</i> class would consist of all the traits shared by different creatures, such as <i>size, position</i>, <i>speed</i> and <i>direction</i> (properties), and <i>avoid_obstacle()</i>, <i>eat_food()</i> (methods). </p><p>We can then use the Creature class to define many different <b>instances</b> of a creature. For example, an ant is a small and speedy creature that wanders around randomly looking for food, avoiding obstacles by going around them. A dinosaur is also a creature, but bigger and slower. It eats anything crossing its path and avoids obstacles by crashing through them.</p><ul><li><b>class</b>: the abstract characteristics (properties and methods) of a thing.</li><li><b>object</b>: one particular instance of a class.</li><li><b>properties</b>: variables tied to an instance of a class.<br /> </li><li><b>methods</b>: commands that manipulate an instance&#39;s properties.</li></ul><p>&nbsp;</p><hr size="2" width="100%" /><h2>Class definition and initialization</h2><p>Each class has an <i>__init__()</i> method which is <b>executed once when an instance of the class is created</b>. The <i>__init__()</i> method sets all the starting values for an object&#39;s properties. </p><p>For example, here&#39;s what a simple definition of a Creature class would look like:</p><pre class="python"><span style="color: #530035;">class</span> Creature:
    
    <span style="color: #530035;">def</span> <span style='color:rgb(255,0,50)'></span><span style="color: red">__init__</span><span style="">&#40;</span><span style="">self</span>, x, y, <span style="color: #530035;">speed</span>=<span style="">1.0</span>, <span style="color: #530035;">size</span>=<span style="">4</span><span style="">&#41;</span>:
        
        <span style="">self</span>.<span style="">x</span> = x
        <span style="">self</span>.<span style="">y</span> = y
        <span style="">self</span>.<span style="color: #530035;">speed</span> = <span style="color: #530035;">speed</span>
        <span style="">self</span>.<span style="color: #530035;">size</span> = <span style="color: #530035;">size</span></pre></pre><p>As you can see a creature has <i>x</i> and <i>y</i> properties (the location of the creature) and <i>speed</i> and <i>size</i> properties (which we&#39;ll use to move the creature around). All of them can be set when a new creature is &quot;instantiated&quot;. The <i>speed</i> and <i>size</i> properties have default values so they are optional.</p><pre class="python">ant = Creature<span style="">&#40;</span><span style="">100</span>, <span style="">100</span>, <span style="color: #530035;">speed</span>=<span style="">2.0</span><span style="">&#41;</span>
dinosaur = Creature<span style="">&#40;</span><span style="">200</span>, <span style="">250</span>, <span style="color: #530035;">speed</span>=<span style="">0.25</span>, <span style="color: #530035;">size</span>=<span style="">45</span><span style="">&#41;</span></pre></pre><p>To change a property value for a creature later on we can simply do:</p><pre class="python">ant.<span style="color: #530035;">speed</span> = <span style="">2.5</span></pre></pre><p><u>Naming conventions:</u></p><ul><li>Class names use <span class="inline_code">CamelCase</span> notation.</li><li>Properties that are only for private use inside the class start with _</li></ul><p>&nbsp;</p><hr size="2" width="100%" /><h2>Methods and the self parameter </h2><p>Let&#39;s add a <i>roam()</i> method to the Creature class to move creatures around randomly. A class method looks exactly like a command definition but it always takes <i>self</i> as the first parameter. The <i>self</i> parameter is the current instance of the class. It allows you to access all of an object&#39;s current property values and methods from inside the method.</p><pre class="python"><span style="color: #530035;">class</span> Creature: 
    
    <span style="color: #530035;">def</span> <span style='color:rgb(255,0,50)'></span><span style="color: red">__init__</span><span style="">&#40;</span><span style="">self</span>, x, y, <span style="color: #530035;">speed</span>=<span style="">1.0</span>, <span style="color: #530035;">size</span>=<span style="">4</span><span style="">&#41;</span>:
        
        <span style="">self</span>.<span style="">x</span> = x
        <span style="">self</span>.<span style="">y</span> = y
        <span style="">self</span>.<span style="color: #530035;">speed</span> = <span style="color: #530035;">speed</span>
        <span style="">self</span>.<span style="color: #530035;">size</span> = <span style="color: #530035;">size</span>
        
        <span style="">self</span>._vx = <span style="">0</span>
        <span style="">self</span>._vy = <span style="">0</span>
    
    <span style="color: #530035;">def</span> <span style='color:rgb(255,0,50)'>roam</span><span style="">&#40;</span><span style="">self</span><span style="">&#41;</span>:
&nbsp;
        <span style="color: #ff0080;">&quot;&quot;</span><span style="color: #ff0080;">&quot; Creature changes heading aimlessly.
        &quot;</span><span style="color: #ff0080;">&quot;&quot;</span>
        
        v = <span style="">self</span>.<span style="color: #530035;">speed</span>
        <span style="">self</span>._vx += <span style="color: #530035;">random</span><span style="">&#40;</span>-v, v<span style="">&#41;</span>
        <span style="">self</span>._vy += <span style="color: #530035;">random</span><span style="">&#40;</span>-v, v<span style="">&#41;</span>
        <span style="">self</span>._vx = <span style="">max</span><span style="">&#40;</span>-v, <span style="">min</span><span style="">&#40;</span><span style="">self</span>._vx, v<span style="">&#41;</span><span style="">&#41;</span>
        <span style="">self</span>._vy = <span style="">max</span><span style="">&#40;</span>-v, <span style="">min</span><span style="">&#40;</span><span style="">self</span>._vy, v<span style="">&#41;</span><span style="">&#41;</span> 
        
        <span style="">self</span>.<span style="">x</span> += <span style="">self</span>._vx
        <span style="">self</span>.<span style="">y</span> += <span style="">self</span>._vy</pre></pre><p>So now we have added two new properties to the class, <i>_vx</i> and <i>_vy,</i> which store a creature&#39;s current heading. Both property names start with an underscore because they are for private use inside the class methods (e.g. no one should directly manipulate <i>ant._dx</i> from the outside). </p><p>Each time the <i>roam()</i> method is called we add or subtract something of the creature&#39;s speed to the heading, like a compass twirling around randomly. We also make sure the horizontal and vertical heading do not exceed the creature&#39;s speed. Otherwise the creature would start going faster and faster which isn&#39;t very realistic. Finally, we update the creature&#39;s position by moving it to the new heading.</p><p>Now we can create two ants (a small fast one and a big slow one). Because their size and speed differ they will roam in different ways.</p><pre class="python">ant1 = Creature<span style="">&#40;</span><span style="">300</span>, <span style="">300</span>, <span style="color: #530035;">speed</span>=<span style="">2.0</span><span style="">&#41;</span>
ant2 = Creature<span style="">&#40;</span><span style="">300</span>, <span style="">300</span>, <span style="color: #530035;">speed</span>=<span style="">0.5</span>, <span style="color: #530035;">size</span>=<span style="">8</span><span style="">&#41;</span>
&nbsp;
<span style="color: #530035;">speed</span><span style="">&#40;</span><span style="">30</span><span style="">&#41;</span>
<span style="color: #530035;">def</span> <span style='color:rgb(255,0,50)'>draw</span><span style="">&#40;</span><span style="">&#41;</span>:
    ant1.<span style="">roam</span><span style="">&#40;</span><span style="">&#41;</span>
    ant2.<span style="">roam</span><span style="">&#40;</span><span style="">&#41;</span>
    <span style="color: #530035;">oval</span><span style="">&#40;</span>ant1.<span style="">x</span>, ant1.<span style="">y</span>, ant1.<span style="color: #530035;">size</span>, ant1.<span style="color: #530035;">size</span><span style="">&#41;</span>
    <span style="color: #530035;">oval</span><span style="">&#40;</span>ant2.<span style="">x</span>, ant2.<span style="">y</span>, ant2.<span style="color: #530035;">size</span>, ant2.<span style="color: #530035;">size</span><span style="">&#41;</span></pre></pre><p><img src="http://nodebox.net/code/data/media/classes-creature1.jpg" alt="classes-creature1" /></p><p><a href="javascript:pop(&#39;../data/media/classes-creature1.mov&#39;,&#39;classes&#39;,&#39;width=550,height=216&#39;)">Play movie</a></p><p>&nbsp;</p><hr size="2" width="100%" /><h2>Taking it further: obstacle avoidance </h2><p>Now that we know the basics about classes, properties and methods we can take things a lot further. We can define different classes for different things and have them interact with each other. </p><p>If we want to have our little critters avoid obstacles while wandering around, they will need to have some sense of the world around them. Know where the obstacles are located. So we&#39;ll need to keep track of obstacle instances. Then we&#39;ll introduce the concept of a <b>feeler</b>. A feeler could be the creature&#39;s sight, hearing or antennae. Basically it is a point in front of where the creature is heading. If this point falls inside an obstacle, it&#39;s time for the creature to change its. direction. </p><p><img src="http://nodebox.net/code/data/media/classes-creature2.jpg" alt="classes-creature2" /></p><p><i>The creature is heading into an obstacle - it can touch the obstacle with its forward feeler. <br />It needs to adjust its bearing clockwise to avoid the obstacle.<br /><br /></i></p><p><span class="pink_box">World class</span> </p><p>We&#39;ll start out by creating a World class which we can use to store a list of obstacles. Later on we can add all sorts of other stuff to the world (e.g. weather methods, colony location properties, etc...). </p><pre class="python"><span style="color: #530035;">class</span> World:    
    <span style="color: #530035;">def</span> <span style='color:rgb(255,0,50)'></span><span style="color: red">__init__</span><span style="">&#40;</span><span style="">self</span><span style="">&#41;</span>:        
        <span style="">self</span>.<span style="">obstacles</span> = <span style="">&#91;</span><span style="">&#93;</span></pre></pre></p>&nbsp;                <p><span class="pink_box">Obstacle class</span>  </p><p>Next we&#39;ll make an Obstacle class. <br />An obstacle in the world is a basic object that has a position and a radius.</p><pre class="python"><span style="color: #530035;">class</span> Obstacle:    
    <span style="color: #530035;">def</span> <span style='color:rgb(255,0,50)'></span><span style="color: red">__init__</span><span style="">&#40;</span><span style="">self</span>, x, y, radius<span style="">&#41;</span>:        
        <span style="">self</span>.<span style="">x</span> = x
        <span style="">self</span>.<span style="">y</span> = y
        <span style="">self</span>.<span style="">radius</span> = radius</pre></pre></p>&nbsp;              <p><span class="pink_box">Geometry</span> </p><p>To know if a creature is going to run into an obstacle we need to know <b>if the tip of its feeler intersects with an obstacle</b>. Obviously we&#39;re going to need some math to calculate the coordinates of the tip of the feeler. Luckily everything we need is already described in the tutorial on <a href="Math.html" target="_self">math geometry</a>. We can copy-paste the commands and add them to our script:</p><pre class="python"><span style="color: #530035;">from</span> <span style="">math</span> <span style="color: #530035;">import</span> degrees, atan2
<span style="color: #530035;">from</span> <span style="">math</span> <span style="color: #530035;">import</span> sqrt, <span style="">pow</span>
<span style="color: #530035;">from</span> <span style="">math</span> <span style="color: #530035;">import</span> radians, sin, cos
&nbsp;
<span style="color: #530035;">def</span> <span style='color:rgb(255,0,50)'>angle</span><span style="">&#40;</span>x0, y0, x1, y1<span style="">&#41;</span>:
    <span style="color: #ff0080;">&quot;&quot;</span><span style="color: #ff0080;">&quot; Returns the angle between two points.
    &quot;</span><span style="color: #ff0080;">&quot;&quot;</span>
    <span style="color: #530035;">return</span> degrees<span style="">&#40;</span> atan2<span style="">&#40;</span>y1-y0, x1-x0<span style="">&#41;</span> <span style="">&#41;</span>
&nbsp;
<span style="color: #530035;">def</span> <span style='color:rgb(255,0,50)'>distance</span><span style="">&#40;</span>x0, y0, x1, y1<span style="">&#41;</span>:
    <span style="color: #ff0080;">&quot;&quot;</span><span style="color: #ff0080;">&quot; Returns the distance between two points.
    &quot;</span><span style="color: #ff0080;">&quot;&quot;</span>        
    <span style="color: #530035;">return</span> sqrt<span style="">&#40;</span><span style="">pow</span><span style="">&#40;</span>x1-x0, <span style="">2</span><span style="">&#41;</span> + <span style="">pow</span><span style="">&#40;</span>y1-y0, <span style="">2</span><span style="">&#41;</span><span style="">&#41;</span>
&nbsp;
<span style="color: #530035;">def</span> <span style='color:rgb(255,0,50)'>coordinates</span><span style="">&#40;</span>x0, y0, distance, angle<span style="">&#41;</span>:
    <span style="color: #ff0080;">&quot;&quot;</span><span style="color: #ff0080;">&quot; Returns the coordinates of given distance and angle from a point.
    &quot;</span><span style="color: #ff0080;">&quot;&quot;</span>
    <span style="color: #530035;">return</span> <span style="">&#40;</span>x0 + cos<span style="">&#40;</span>radians<span style="">&#40;</span>angle<span style="">&#41;</span><span style="">&#41;</span> * distance, 
            y0 + sin<span style="">&#40;</span>radians<span style="">&#40;</span>angle<span style="">&#41;</span><span style="">&#41;</span> * distance<span style="">&#41;</span></pre></pre></p>&nbsp;     <p> With the above <i>coordinates()</i> command we can: <br /></p><ul><li>calculate the location of a point (tip of the feeler) <br /></li><li>at a given distance (feeler length) <br /></li><li>under a given angle (creature heading) <br /></li><li>from a starting point (creature location).</li></ul><br /><p><span class="pink_box">Obstacle avoidance</span> </p><p>So first of all we&#39;ll need to add a new <i>feeler_length</i> property to the Creature class, and a new <i>heading()</i> method that calculates the angle between a creature&#39;s current position and its next position. We also add a new <i>world</i> property to the Creature class. That way each creature has access to all the obstacles in the world. We loop through the list of the world&#39;s obstacles in the <i>avoid_obstacles()</i> method. </p><p>The <i>avoid_obstacles() </i>method will do the following:</p><ul><li>calculate the direction angle of a creature,</li><li>traverse all obstacles in the world,</li><li>for each obstacle, check if it is closer than the feeler length,</li><li>if it is, check if the coordinates of the tip of the feeler are inside the obstacle,</li><li>and if so, steer away in the most logical direction. </li></ul><pre class="python"><span style="color: #530035;">class</span> Creature:
    
    <span style="color: #530035;">def</span> <span style='color:rgb(255,0,50)'></span><span style="color: red">__init__</span><span style="">&#40;</span><span style="">self</span>, world, x, y, <span style="color: #530035;">speed</span>=<span style="">1.0</span>, <span style="color: #530035;">size</span>=<span style="">4</span><span style="">&#41;</span>:
        
        <span style="">self</span>.<span style="">x</span> = x
        <span style="">self</span>.<span style="">y</span> = y
        <span style="">self</span>.<span style="color: #530035;">speed</span> = <span style="color: #530035;">speed</span>
        <span style="">self</span>.<span style="color: #530035;">size</span> = <span style="color: #530035;">size</span>
        
        <span style="">self</span>.<span style="">world</span> = world
        <span style="">self</span>.<span style="">feeler_length</span> = <span style="">25</span>
        
        <span style="">self</span>._vx = <span style="">0</span>
        <span style="">self</span>._vy = <span style="">0</span>
    
    <span style="color: #530035;">def</span> <span style='color:rgb(255,0,50)'>heading</span><span style="">&#40;</span><span style="">self</span><span style="">&#41;</span>:
        
        <span style="color: #ff0080;">&quot;&quot;</span><span style="color: #ff0080;">&quot; Returns the creature's heading as angle in degrees.
        &quot;</span><span style="color: #ff0080;">&quot;&quot;</span>
        
        <span style="color: #530035;">return</span> angle<span style="">&#40;</span><span style="">self</span>.<span style="">x</span>, <span style="">self</span>.<span style="">y</span>, <span style="">self</span>.<span style="">x</span>+<span style="">self</span>._vx, <span style="">self</span>.<span style="">y</span>+<span style="">self</span>._vy<span style="">&#41;</span>
&nbsp;
    <span style="color: #530035;">def</span> <span style='color:rgb(255,0,50)'>avoid_obstacles</span><span style="">&#40;</span><span style="">self</span>, m=<span style="">0.4</span>, perimeter=<span style="">4</span><span style="">&#41;</span>:
&nbsp;
        <span style="color: grey;"># Find out where the creature is going.</span>
        a = <span style="">self</span>.<span style="">heading</span><span style="">&#40;</span><span style="">&#41;</span>
        
        <span style="color: #530035;">for</span> obstacle <span style="color: #530035;">in</span> <span style="">self</span>.<span style="">world</span>.<span style="">obstacles</span>:
            
            <span style="color: grey;"># Calculate the distance between the creature and the obstacle.</span>
            d = distance<span style="">&#40;</span><span style="">self</span>.<span style="">x</span>, <span style="">self</span>.<span style="">y</span>, obstacle.<span style="">x</span>, obstacle.<span style="">y</span><span style="">&#41;</span>
            
            <span style="color: grey;"># Respond faster if the creature is very close to an obstacle.</span>
            <span style="color: #530035;">if</span> d - obstacle.<span style="">radius</span> &lt; perimeter: m *= <span style="">10</span>
            
            <span style="color: grey;"># Check if the tip of the feeler falls inside the obstacle.</span>
            <span style="color: grey;"># This is never true if the feeler length </span>
            <span style="color: grey;"># is smaller than the distance to the obstable.</span>
            <span style="color: #530035;">if</span> d - obstacle.<span style="">radius</span> &lt;= <span style="">self</span>.<span style="">feeler_length</span>:
                tip_x, tip_y = coordinates<span style="">&#40;</span><span style="">self</span>.<span style="">x</span>, <span style="">self</span>.<span style="">y</span>, d, a<span style="">&#41;</span>    
                <span style="color: #530035;">if</span> distance<span style="">&#40;</span>obstacle.<span style="">x</span>, obstacle.<span style="">y</span>, 
                            tip_x, tip_y<span style="">&#41;</span> &lt; obstacle.<span style="">radius</span>:
                    
                    <span style="color: grey;"># Nudge the creature away from the obstacle.</span>
                    m *= <span style="">self</span>.<span style="color: #530035;">speed</span>
                    <span style="color: #530035;">if</span> tip_x &lt; obstacle.<span style="">x</span>: <span style="">self</span>._vx -= <span style="color: #530035;">random</span><span style="">&#40;</span>m<span style="">&#41;</span>
                    <span style="color: #530035;">if</span> tip_y &lt; obstacle.<span style="">y</span>: <span style="">self</span>._vy -= <span style="color: #530035;">random</span><span style="">&#40;</span>m<span style="">&#41;</span>
                    <span style="color: #530035;">if</span> tip_x &gt; obstacle.<span style="">x</span>: <span style="">self</span>._vx += <span style="color: #530035;">random</span><span style="">&#40;</span>m<span style="">&#41;</span>
                    <span style="color: #530035;">if</span> tip_y &gt; obstacle.<span style="">y</span>: <span style="">self</span>._vy += <span style="color: #530035;">random</span><span style="">&#40;</span>m<span style="">&#41;</span>
&nbsp;
                    <span style="color: #530035;">if</span> d - obstacle.<span style="">radius</span> &lt; perimeter: <span style="color: #530035;">return</span>
&nbsp;
    <span style="color: #530035;">def</span> <span style='color:rgb(255,0,50)'>roam</span><span style="">&#40;</span><span style="">self</span><span style="">&#41;</span>:
&nbsp;
        <span style="color: #ff0080;">&quot;&quot;</span><span style="color: #ff0080;">&quot; Creature changes heading aimlessly.
        With its feeler it will scan for obstacles and steer away.
        &quot;</span><span style="color: #ff0080;">&quot;&quot;</span>
        
        <span style="">self</span>.<span style="">avoid_obstacles</span><span style="">&#40;</span><span style="">&#41;</span>
        
        v = <span style="">self</span>.<span style="color: #530035;">speed</span>
        <span style="">self</span>._vx += <span style="color: #530035;">random</span><span style="">&#40;</span>-v, v<span style="">&#41;</span>
        <span style="">self</span>._vy += <span style="color: #530035;">random</span><span style="">&#40;</span>-v, v<span style="">&#41;</span>
        <span style="">self</span>._vx = <span style="">max</span><span style="">&#40;</span>-v, <span style="">min</span><span style="">&#40;</span><span style="">self</span>._vx, v<span style="">&#41;</span><span style="">&#41;</span>
        <span style="">self</span>._vy = <span style="">max</span><span style="">&#40;</span>-v, <span style="">min</span><span style="">&#40;</span><span style="">self</span>._vy, v<span style="">&#41;</span><span style="">&#41;</span> 
        
        <span style="">self</span>.<span style="">x</span> += <span style="">self</span>._vx
        <span style="">self</span>.<span style="">y</span> += <span style="">self</span>._vy</pre></pre><p><img src="http://nodebox.net/code/data/media/classes-creature3.jpg" alt="classes-creature3" /><br /><a href="javascript:pop(&#39;../data/media/classes-creature3.mov&#39;,&#39;classes&#39;,&#39;width=550,height=216&#39;)">Play movie</a> | <a href="Obstacle_avoidance.html" target="_self">view source code</a></p><p>Another easy example of classes is the <a href="Tendrils.html" target="_self">Tendrils</a> item in the gallery.&nbsp;</p>  <? include("util/comment.php"); ?>
</div>
  
</div>

<div id="footer">
Last modified: Mar 11 2008 | &copy; 2004-2012 <a href="http://www.emrg.be/" class="noexternal">Experimental Media Research Group</a>
</div>
<img src="../g/footer.jpg" style="border:0" class="footer" width="800" height="334" />

</div>

<script>
try{e=document.getElementsByTagName("span");for(i=0;i<e.length;i++){if(e[i].className=="header_image"){src=e[i].getElementsByTagName("img")[0].src;document.getElementById("header_image").src=src;break;}}}catch(e){}
</script>
</body>

</html>