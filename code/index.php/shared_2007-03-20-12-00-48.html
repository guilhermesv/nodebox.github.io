<html>

<head>
<title>NodeBox | PDF 2 AI question</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="imagetoolbar" content="no" />
<meta http-equiv="linode" content="true"/>
<meta name="description" content="" />
<meta name="keywords" content="NodeBox, shared 2007-03-20-12-00-48, export" />
<link rel="alternate" type="application/rss+xml" title="NodeBox News Feed" href="https://nodebox.net/code/data/rss.xml" />
<link rel="canonical" href="https://nodebox.net/code/index.php/shared_2007-03-20-12-00-48" />
<link type="text/css" rel="stylesheet" media="screen" href="../../media/css/nbar.css">

<script type="text/javascript" src="../js/pop.js"></script>
<script type="text/javascript" src="../js/confirm.js"></script>
<link href="../css/default.css" rel="stylesheet" type="text/css" />
<link href="../css/print.css" rel="stylesheet" type="text/css" media="print" />
<!--[if gte IE 5.5]>
<script type="text/javascript" src="/code/js/pngfix.js"></script>
<![endif]-->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1668598-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body id="body" >
<div class="nbar">
  <ol>
    <li><a class="node" href="https://www.nodebox.net/code/">NodeBox 1<span class="nbar-arrow"></span></a>
      <ol class="nbar-dropdown">
        <li><a href="https://www.nodebox.net/">Homepage</a></li>
        <li><a href="https://www.nodebox.net/node/">NodeBox 3<small>Node-based app for generative design and data visualization</small></a></li>
        <li><a href="https://www.nodebox.net/opengl/">NodeBox OpenGL<small>Hardware-accelerated cross-platform graphics library</small></a></li>
        <li><a href="https://www.nodebox.net/code/">NodeBox 1<small>Generate 2D visuals using Python code (Mac OS X only)</small></a></li>
      </ol>
    </li>
    <li><a class="gallery" href="https://www.nodebox.net/gallery/">Gallery</a></li>
    <li><a class="documentation" href="Tutorial.html">Documentation</a></li>
    <li><a class="forum" href="http://support.nodebox.net/discussions">Forum</a></li>
    <li><a class="blog" href="https://www.nodebox.net/blog/">Blog</a></li>
  </ol>
</div>


<div id="all">
<div id="header_and_navigation">

<div id="header">
<a href="Home.html"><img id="header_image" src="../g/header-small.jpg" width="800" /></a></div>

<div id="title">
<a href="Home.html"><h1>NodeBox</h1>
<strong><em>Create visual output with Python programming code</em></strong>
</a></div>

<div id="contextual">
<div id="languages">
 
</div>

<div id="search">
<form id = "sf" method="get">
<input type="text" id="q" name="q" value="" />
<a href="javascript:document.getElementById('sf').submit();">GO</a>
</form>
</div>

</div>

<div id="navigation">
<div id="navigation_public">
<a id="" href="Home.html">Home</a> 
<a id="" href="Download.html">Download</a> 
<a id="" href="Reference.html">Reference</a> 
<a id="" href="Tutorial.html">Tutorial</a> 
<a id="" href="Library.html">Library</a> 
<a id="" href="Gallery.html">Gallery</a> 
<a id="" href="Share.html">Share</a> 
<a id="" href="About.html">About</a> 
</div>
</div>
 
</div>

<div id="content">

<div id="nodebox-link">
<a href="Home.html"><img src="../g/transparent.gif" /></a>
</div>

<div class="inside">
<? if (do_name() != 'Home') : ?>
 <? endif ?>
<br /><h1 id="shared-title">PDF 2 AI question</h1>
			<strong>Posted by <span class="comment_by">Giorgio</span> on <em class="date">Mar 20, 2007</em></strong>
			<p>
			 Hello,<br />
<br />
This is not strictly related to Nodebox but it could be interesting to see if anybody on the forum already run into the same kind of problem.<br />
Running the code pasted below... If I export the path to PDF and then open the PDF with Preview/Acrobat/Photoshop everything shows up 100% fine. <br />
But If I open it using Illustrator only a smaller portion of the path shows up.  Since it seems that a path in AI can contain up to 32,000 anchor points and this path counts only 1,002 points I'm curios to know if somebody on the forum has a clue on this problem...<br />
<br />
<code><pre class="python"><span style="color: #530035;">size</span><span style="">&#40;</span><span style="">600</span>,<span style="">600</span><span style="">&#41;</span>
<span style="color: #530035;">background</span><span style="">&#40;</span><span style="">0.1</span>,<span style="">0</span>,<span style="">0</span><span style="">&#41;</span>
cornu    = <span style="color: #530035;">ximport</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;cornu&quot;</span><span style="">&#41;</span>
supershape = <span style="color: #530035;">ximport</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;supershape&quot;</span><span style="">&#41;</span>
&nbsp;
<span style="color: #530035;">nofill</span><span style="">&#40;</span><span style="">&#41;</span>
<span style="color: #530035;">stroke</span><span style="">&#40;</span><span style="">1</span><span style="">&#41;</span>
<span style="color: #530035;">strokewidth</span><span style="">&#40;</span><span style="">0.5</span><span style="">&#41;</span>
&nbsp;
x = y = <span style="">300</span>
w = h = <span style="">200</span>
p = supershape.<span style="">path</span><span style="">&#40;</span>x, y, w, h, <span style="">4</span>, <span style="">1</span>, <span style="">0.1</span>, <span style="">0.1</span><span style="">&#41;</span>
<span style="color: grey;">#drawpath(p)</span>
&nbsp;
num_nodes = <span style="">0</span>
points  = <span style="">&#91;</span><span style="">&#93;</span>
<span style="color: #530035;">for</span> pu <span style="color: #530035;">in</span> p:
        pu.<span style="">x</span> = <span style="">&#40;</span>pu.<span style="">x</span>/<span style="">&#40;</span><span style="color: #530035;">WIDTH</span><span style="">&#41;</span><span style="">&#41;</span>
        pu.<span style="">y</span> = <span style="">&#40;</span>pu.<span style="">y</span>/<span style="">&#40;</span><span style="color: #530035;">HEIGHT</span><span style="">&#41;</span><span style="">&#41;</span>
        points.<span style="">append</span><span style="">&#40;</span><span style="">&#40;</span>pu.<span style="">x</span>, pu.<span style="">y</span><span style="">&#41;</span><span style="">&#41;</span>
        <span style="color: grey;">#print pu.x, pu.y</span>
        num_nodes += <span style="">1</span>
    
<span style="color: #530035;">print</span> <span style="color: #ff0080;">&quot;This image has &quot;</span> + <span style="">str</span><span style="">&#40;</span>num_nodes<span style="">&#41;</span> + <span style="color: #ff0080;">&quot; nodes&quot;</span>
<span style="color: #530035;">stroke</span><span style="">&#40;</span><span style="">1</span>,<span style="color: #530035;">random</span><span style="">&#40;</span><span style="">0.5</span>,<span style="">1</span><span style="">&#41;</span>,<span style="">0</span>,<span style="color: #530035;">random</span><span style="">&#40;</span><span style="">0.7</span>,<span style="">1</span><span style="">&#41;</span><span style="">&#41;</span>
<span style="color: #530035;">strokewidth</span><span style="">&#40;</span><span style="">0.5</span><span style="">&#41;</span>
cornu.<span style="color: #530035;">drawpath</span><span style="">&#40;</span>points,tweaks=<span style="">5</span>, points=<span style="color: #530035;">False</span>, close=<span style="color: #530035;">True</span><span style="">&#41;</span></pre></pre></code>
			</p>
			<br />
			<div class="comment"><hr /><strong>Posted by <span class="comment_by">Giorgio</span> on <em class="date">Mar 20, 2007</em></strong><br /><p> update:<br />
if i use 1/5 of the 1002 points (see code below) I end up having only 200 anchor points.<br />
And in this case Illustrator shows the complete path... mmmm...<br />
<br />
<code><pre class="python"><span style="color: #530035;">size</span><span style="">&#40;</span><span style="">600</span>,<span style="">600</span><span style="">&#41;</span>
<span style="color: #530035;">background</span><span style="">&#40;</span><span style="">0.1</span>,<span style="">0</span>,<span style="">0</span><span style="">&#41;</span>
cornu    = <span style="color: #530035;">ximport</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;cornu&quot;</span><span style="">&#41;</span>
supershape = <span style="color: #530035;">ximport</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;supershape&quot;</span><span style="">&#41;</span>
&nbsp;
<span style="color: #530035;">nofill</span><span style="">&#40;</span><span style="">&#41;</span>
<span style="color: #530035;">stroke</span><span style="">&#40;</span><span style="">1</span><span style="">&#41;</span>
<span style="color: #530035;">strokewidth</span><span style="">&#40;</span><span style="">0.5</span><span style="">&#41;</span>
&nbsp;
x = y = <span style="">300</span>
w = h = <span style="">200</span>
p = supershape.<span style="">path</span><span style="">&#40;</span>x, y, w, h, <span style="">4</span>, <span style="">1</span>, <span style="">0.1</span>, <span style="">0.1</span><span style="">&#41;</span>
<span style="color: grey;">#drawpath(p)</span>
&nbsp;
&nbsp;
num_nodes = <span style="">0</span>
num_samples = <span style="">0</span>
points  = <span style="">&#91;</span><span style="">&#93;</span>
<span style="color: #530035;">for</span> pu <span style="color: #530035;">in</span> p:
        pu.<span style="">x</span> = <span style="">&#40;</span>pu.<span style="">x</span>/<span style="">&#40;</span><span style="color: #530035;">WIDTH</span><span style="">&#41;</span><span style="">&#41;</span>
        pu.<span style="">y</span> = <span style="">&#40;</span>pu.<span style="">y</span>/<span style="">&#40;</span><span style="color: #530035;">HEIGHT</span><span style="">&#41;</span><span style="">&#41;</span>
        num_samples += <span style="">1</span>
        <span style="color: #530035;">if</span> num_samples == <span style="">5</span>:
            points.<span style="">append</span><span style="">&#40;</span><span style="">&#40;</span>pu.<span style="">x</span>, pu.<span style="">y</span><span style="">&#41;</span><span style="">&#41;</span>
            <span style="color: grey;">#print pu.x, pu.y</span>
            num_nodes += <span style="">1</span>
            num_samples = <span style="">0</span>
            
    
<span style="color: #530035;">print</span> <span style="color: #ff0080;">&quot;This image has &quot;</span> + <span style="">str</span><span style="">&#40;</span>num_nodes<span style="">&#41;</span> + <span style="color: #ff0080;">&quot; nodes&quot;</span>
<span style="color: #530035;">stroke</span><span style="">&#40;</span><span style="">1</span>,<span style="color: #530035;">random</span><span style="">&#40;</span><span style="">0.5</span>,<span style="">1</span><span style="">&#41;</span>,<span style="">0</span>,<span style="color: #530035;">random</span><span style="">&#40;</span><span style="">0.7</span>,<span style="">1</span><span style="">&#41;</span><span style="">&#41;</span>
<span style="color: #530035;">strokewidth</span><span style="">&#40;</span><span style="">0.5</span><span style="">&#41;</span>
cornu.<span style="color: #530035;">drawpath</span><span style="">&#40;</span>points,tweaks=<span style="">5</span>, points=<span style="color: #530035;">False</span>, close=<span style="color: #530035;">True</span><span style="">&#41;</span></pre></pre></code></p><br /></div><div class="comment"><hr /><strong>Posted by <span class="comment_by">Mark</span> on <em class="date">Mar 20, 2007</em></strong><br /><p> Giorgio,<br />
<br />
The number of points in the paths that cornu creates in my experience is considerably greater than the number of points you give it. In your example you hand it 1002 points, but the cornu path it returns has 100200 points. You can test this by changing the last line in your script to:<br />
<code><pre class="python"><span style="color: #530035;">print</span> <span style="">len</span><span style="">&#40;</span>cornu.<span style="">path</span><span style="">&#40;</span>points,tweaks=<span style="">5</span>, close=<span style="color: #530035;">True</span><span style="">&#41;</span><span style="">&#41;</span></pre></pre></code><br />
<br />
Also, in Illustrator if you select the path, go to simplify path (Menu-&gt;Object-&gt;Path-&gt;Simplify), and check the preview box, it will tell you how many control points your path has (after a little delay). In this case, the segment of the path that illustrator opened has 32005 points. I'm not sure if there is way to easily get a more efficient path from conru, but it would be nice. Good luck.</p><br /></div><div class="comment"><hr /><strong>Posted by <span class="comment_by">Giorgio</span> on <em class="date">Mar 20, 2007</em></strong><br /><p> Mark,<br />
<br />
Thanks for your post. Your explanation makes a lot of sense. So... I feel I will have to find an alternate solution (like splitting the path in more sub-paths).<br />
<br />
grazie<br />
ciao<br />
</p><br /></div><div class="comment"><hr /><strong>Posted by <span class="comment_by">Tom De Smedt</span> on <em class="date">Mar 27, 2007</em></strong><br /><p> Hi Giorgio/Mike,<br />
<br />
I don't know of a more efficient way to get paths from Cornu. The algorithm was written by Raph Levien and I should have paid more attention in math class to currently understand all of it.<br />
<br />
It would be nice if Illustrator supported more than 32000 points.</p><br /></div>
	<? include("util/comment.php"); ?>
</div>
  
</div>

<div id="footer">
Last modified: Apr 11 2008 | &copy; 2004-2012 <a href="http://www.emrg.be/" class="noexternal">Experimental Media Research Group</a>
</div>
<img src="../g/footer.jpg" style="border:0" class="footer" width="800" height="334" />

</div>

<script>
try{e=document.getElementsByTagName("span");for(i=0;i<e.length;i++){if(e[i].className=="header_image"){src=e[i].getElementsByTagName("img")[0].src;document.getElementById("header_image").src=src;break;}}}catch(e){}
</script>
</body>

</html>