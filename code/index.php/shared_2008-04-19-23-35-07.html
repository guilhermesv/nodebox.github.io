<html>

<head>
<title>NodeBox | lineheight: set solid</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="imagetoolbar" content="no" />
<meta http-equiv="linode" content="true"/>
<meta name="description" content="" />
<meta name="keywords" content="NodeBox, shared 2008-04-19-23-35-07, question" />
<link rel="alternate" type="application/rss+xml" title="NodeBox News Feed" href="https://nodebox.net/code/data/rss.xml" />
<link rel="canonical" href="https://nodebox.net/code/index.php/shared_2008-04-19-23-35-07" />
<link type="text/css" rel="stylesheet" media="screen" href="../../media/css/nbar.css">

<script type="text/javascript" src="../js/pop.js"></script>
<script type="text/javascript" src="../js/confirm.js"></script>
<link href="../css/default.css" rel="stylesheet" type="text/css" />
<link href="../css/print.css" rel="stylesheet" type="text/css" media="print" />
<!--[if gte IE 5.5]>
<script type="text/javascript" src="/code/js/pngfix.js"></script>
<![endif]-->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1668598-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body id="body" >
<div class="nbar">
  <ol>
    <li><a class="node" href="https://www.nodebox.net/code/">NodeBox 1<span class="nbar-arrow"></span></a>
      <ol class="nbar-dropdown">
        <li><a href="https://www.nodebox.net/">Homepage</a></li>
        <li><a href="https://www.nodebox.net/node/">NodeBox 3<small>Node-based app for generative design and data visualization</small></a></li>
        <li><a href="https://www.nodebox.net/opengl/">NodeBox OpenGL<small>Hardware-accelerated cross-platform graphics library</small></a></li>
        <li><a href="https://www.nodebox.net/code/">NodeBox 1<small>Generate 2D visuals using Python code (Mac OS X only)</small></a></li>
      </ol>
    </li>
    <li><a class="gallery" href="https://www.nodebox.net/gallery/">Gallery</a></li>
    <li><a class="documentation" href="Tutorial.html">Documentation</a></li>
    <li><a class="forum" href="http://support.nodebox.net/discussions">Forum</a></li>
    <li><a class="blog" href="https://www.nodebox.net/blog/">Blog</a></li>
  </ol>
</div>


<div id="all">
<div id="header_and_navigation">

<div id="header">
<a href="Home.html"><img id="header_image" src="../g/header-small.jpg" width="800" /></a></div>

<div id="title">
<a href="Home.html"><h1>NodeBox</h1>
<strong><em>Create visual output with Python programming code</em></strong>
</a></div>

<div id="contextual">
<div id="languages">
 
</div>

<div id="search">
<form id = "sf" method="get">
<input type="text" id="q" name="q" value="" />
<a href="javascript:document.getElementById('sf').submit();">GO</a>
</form>
</div>

</div>

<div id="navigation">
<div id="navigation_public">
<a id="" href="Home.html">Home</a> 
<a id="" href="Download.html">Download</a> 
<a id="" href="Reference.html">Reference</a> 
<a id="" href="Tutorial.html">Tutorial</a> 
<a id="" href="Library.html">Library</a> 
<a id="" href="Gallery.html">Gallery</a> 
<a id="" href="Share.html">Share</a> 
<a id="" href="About.html">About</a> 
</div>
</div>
 
</div>

<div id="content">

<div id="nodebox-link">
<a href="Home.html"><img src="../g/transparent.gif" /></a>
</div>

<div class="inside">
<? if (do_name() != 'Home') : ?>
 <? endif ?>
<br /><div class="comment"><h1 id="shared-title">lineheight: set solid</h1>
<strong>Posted by <span class="comment_by">andrea</span> on <em class="date">Apr 19, 2008</em></strong>
<p>(I'm sorry for the bombing but I need to understand...)<br><br>I think I'm missing something with lineheight()<br>If I set it to 1 I guess I should set solid. But ascenders and descenders don't touch. I'm having a set solid with a 0.78 value (approx).<br>e.g.<pre class="python"><span style="color: #530035;">font</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;Century&quot;</span>, <span style="">40</span><span style="">&#41;</span>
<span style="color: #530035;">lineheight</span><span style="">&#40;</span><span style="">0.78</span><span style="">&#41;</span>
<span style="color: #530035;">text</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;gggggggggggggggg llllllllllllllllllllllllll!!&quot;</span>, <span style="">0</span>,<span style="">51</span>, <span style="">370</span> <span style="">&#41;</span></pre></pre>What am I missing?<br><br>Many thanks<br>-a- </b></i></a></ul></li></pre></p><br /></div>
&nbsp;<hr /><div class='comment'><strong>Posted by <span class="comment_by">Mark M</span> on <em class="date">Apr 20, 2008</em></strong><p>Andrea,<br><br>I think what you are missing is the height is calculated as a multiple of the 'natural line height' of the font. This comes from apple's text engine and is the height from tallest character to the lowest descender. Most fonts are going to have caps with accents that will be higher than ascenders--think of the 'A' with a ring above it used in Danish. It's a little complicated to figure out how to do what you want in anything other than a case by case method, I think, but here are some Appkit methods that are easy to use in nodebox that might help a bit.<pre class="python"><span style="color: #530035;">from</span> AppKit <span style="color: #530035;">import</span> *
&nbsp;
helv = NSFont.<span style="">fontWithName_size_</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;Helvetica&quot;</span>, <span style="">32</span><span style="">&#41;</span>
defaultHeight = helv.<span style="">defaultLineHeightForFont</span><span style="">&#40;</span><span style="">&#41;</span>
capHeight =  helv.<span style="">capHeight</span><span style="">&#40;</span><span style="">&#41;</span>
descender =  helv.<span style="">descender</span><span style="">&#40;</span><span style="">&#41;</span>
xheight = helv.<span style="">xHeight</span><span style="">&#40;</span><span style="">&#41;</span>
<span style="color: #530035;">print</span> helv.<span style="">leading</span><span style="">&#40;</span><span style="">&#41;</span>
&nbsp;
<span style="color: #530035;">font</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;Helvetica&quot;</span>, <span style="">32</span><span style="">&#41;</span>
&nbsp;
<span style="color: #530035;">lineheight</span><span style="">&#40;</span><span style="">&#40;</span>xheight<span style="">&#41;</span>/defaultHeight<span style="">&#41;</span>
<span style="color: #530035;">text</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;xxxx<span style="">\n</span>xxxx&quot;</span>, <span style="">0</span>,<span style="">54</span>, <span style="">281</span> <span style="">&#41;</span>
&nbsp;
<span style="color: #530035;">lineheight</span><span style="">&#40;</span><span style="">&#40;</span>capHeight<span style="">&#41;</span>/defaultHeight<span style="">&#41;</span>
<span style="color: #530035;">text</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;MMMM<span style="">\n</span>MMMM&quot;</span>, <span style="">0</span>,<span style="">104</span>, <span style="">281</span> <span style="">&#41;</span>
&nbsp;
<span style="color: #530035;">lineheight</span><span style="">&#40;</span><span style="">&#40;</span>capHeight-descender<span style="">&#41;</span>/defaultHeight<span style="">&#41;</span>
<span style="color: #530035;">text</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;jjjjjj<span style="">\n</span>MMMM&quot;</span>, <span style="">0</span>,<span style="">167</span>, <span style="">292</span> <span style="">&#41;</span></pre></pre>I don't know if this forum software takes unicode so this last line might by messed up, but it's not important--you get the idea:<pre class="python"><span style="color: #530035;">lineheight</span><span style="">&#40;</span><span style="">1</span><span style="">&#41;</span>
<span style="color: #530035;">text</span><span style="">&#40;</span>u<span style="color: #ff0080;">&quot;jjjjjjjjjjjÅÅÅ&quot;</span>, <span style="">30</span>,<span style="">243</span>, <span style="">95</span> <span style="">&#41;</span></pre></pre>Good luck, hopes this helps a bit. </b></i></a></ul></li></pre></p><br /></div><hr /><div class='comment'><strong>Posted by <span class="comment_by">andrea</span> on <em class="date">Apr 21, 2008</em></strong><p>Uh, thanks a lot, Mark.<br>Perfect, I understood the problem.<br>But it would be nice to have documentation (or at least some hints) about the module you used.<br><br>Best<br><br>-a- </b></i></a></ul></li></pre></p><br /></div><hr /><div class='comment'><strong>Posted by <span class="comment_by">Mark M</span> on <em class="date">Apr 21, 2008</em></strong><p>Hi Andrea,<br><br>The Appkit library comes with the Mac. It isn't a nodebox module per se--anymore than any other python library is.<br><br>Despite that, there is a really good intro on using it with Nodebox that will get you started here:<br><br><a href="PyObjC.html">http://www.nodebox.net/code/index.php/PyObjC</a><br><br>It is very powerful because it gives you access to most of the apple API, and because of this, there is a bit of  learning curve. </b></i></a></ul></li></pre></p><br /></div><hr /><div class='comment'><strong>Posted by <span class="comment_by">andrea</span> on <em class="date">Apr 21, 2008</em></strong><p>Ah, didn't take a look to that page...<br><br>many thanks<br><br>-a- </b></i></a></ul></li></pre></p><br /></div><? include("util/comment.php"); ?>
</div>
  
</div>

<div id="footer">
Last modified: Apr 21 2008 | &copy; 2004-2012 <a href="http://www.emrg.be/" class="noexternal">Experimental Media Research Group</a>
</div>
<img src="../g/footer.jpg" style="border:0" class="footer" width="800" height="334" />

</div>

<script>
try{e=document.getElementsByTagName("span");for(i=0;i<e.length;i++){if(e[i].className=="header_image"){src=e[i].getElementsByTagName("img")[0].src;document.getElementById("header_image").src=src;break;}}}catch(e){}
</script>
</body>

</html>