<html>

<head>
<title>NodeBox | Colors</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="imagetoolbar" content="no" />
<meta http-equiv="linode" content="true"/>
<meta name="description" content="" />
<meta name="keywords" content="NodeBox, Colors, " />
<link rel="alternate" type="application/rss+xml" title="NodeBox News Feed" href="https://nodebox.net/code/data/rss.xml" />
<link rel="canonical" href="https://nodebox.net/code/index.php/Colors" />
<link type="text/css" rel="stylesheet" media="screen" href="../../media/css/nbar.css">

<script type="text/javascript" src="../js/pop.js"></script>
<script type="text/javascript" src="../js/confirm.js"></script>
<link href="../css/default.css" rel="stylesheet" type="text/css" />
<link href="../css/print.css" rel="stylesheet" type="text/css" media="print" />
<!--[if gte IE 5.5]>
<script type="text/javascript" src="/code/js/pngfix.js"></script>
<![endif]-->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1668598-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body id="body" >
<div class="nbar">
  <ol>
    <li><a class="node" href="https://www.nodebox.net/code/">NodeBox 1<span class="nbar-arrow"></span></a>
      <ol class="nbar-dropdown">
        <li><a href="https://www.nodebox.net/">Homepage</a></li>
        <li><a href="https://www.nodebox.net/node/">NodeBox 3<small>Node-based app for generative design and data visualization</small></a></li>
        <li><a href="https://www.nodebox.net/opengl/">NodeBox OpenGL<small>Hardware-accelerated cross-platform graphics library</small></a></li>
        <li><a href="https://www.nodebox.net/code/">NodeBox 1<small>Generate 2D visuals using Python code (Mac OS X only)</small></a></li>
      </ol>
    </li>
    <li><a class="gallery" href="https://www.nodebox.net/gallery/">Gallery</a></li>
    <li><a class="documentation" href="Tutorial.html">Documentation</a></li>
    <li><a class="forum" href="http://support.nodebox.net/discussions">Forum</a></li>
    <li><a class="blog" href="https://www.nodebox.net/blog/">Blog</a></li>
  </ol>
</div>


<div id="all">
<div id="header_and_navigation">

<div id="header">
<a href="Home.html"><img id="header_image" src="../g/header-small.jpg" width="800" /></a></div>

<div id="title">
<a href="Home.html"><h1>NodeBox</h1>
<strong><em>Create visual output with Python programming code</em></strong>
</a></div>

<div id="contextual">
<div id="languages">
 
</div>

<div id="search">
<form id = "sf" method="get">
<input type="text" id="q" name="q" value="" />
<a href="javascript:document.getElementById('sf').submit();">GO</a>
</form>
</div>

</div>

<div id="navigation">
<div id="navigation_public">
<a id="" href="Home.html">Home</a> 
<a id="" href="Download.html">Download</a> 
<a id="" href="Reference.html">Reference</a> 
<a id="" href="Tutorial.html">Tutorial</a> 
<a id="" href="Library.html">Library</a> 
<a id="" href="Gallery.html">Gallery</a> 
<a id="" href="Share.html">Share</a> 
<a id="" href="About.html">About</a> 
</div>
</div>
 
</div>

<div id="content">

<div id="nodebox-link">
<a href="Home.html"><img src="../g/transparent.gif" /></a>
</div>

<div class="inside">
<? if (do_name() != 'Home') : ?>
 <h3>Colors</h3><? endif ?>
<p>The NodeBox Colors library offers a set of tools to work with color more conveniently. You can use the library to create colors by name (like <i>red</i> or <i>ivory</i>), from pixels in an image, group them into lists of which you can then collectively manipulate hue, brightness and saturation, create lists of harmonious colors based on color theory rules (like complementary or analogous), create lists of gradient colors, work with drop shadows and gradient fills for paths, define powerful <i>indefinite</i> color ranges (like <i>bright red</i> or <i>purplishgreenish</i>), aggregate color information from Yahoo!, and more! <br /></p><p>There's a lot of stuff to explain but luckily most principles in the Colors library are easy. <br />Some central themes are:</p><ul><li><b>Colors:</b> enhanced color objects with many predefined instances.</li><li><b>Color lists:</b> sets of colors which can be manipulated as a whole.</li><li><b>Rules:</b> color theory rules that generate lists of colors.<br /></li><li><b>Color ranges:</b> variable sets of colors whose HSB values are constrained between a minimum and a maximum value.</li><li><b>Color themes:</b> groups of ranges.</li><li><b>Depth:</b> lighting, shadows and gradients.<br /></li></ul><p>My personal favorites are <a href="Colors.html#shade" target="_self">shades</a> and <a href="Colors.html#shadow" target="_self">shadows and gradient fills</a>.</p><h2>Download</h2><table border="0"><tbody><tr><td><a href="https://www.nodebox.net/code/data/media/colors.zip" target="_self"><img src="http://nodebox.net/code/data/media/download.gif" alt="download" /></a></td><td><a href="https://www.nodebox.net/code/data/media/colors.zip" target="_self">colors.zip</a> (1.95MB)<br /><i>Last updated for NodeBox 1.9.4.9<br />Licensed under GPL<br /></i><i>Authors: Tom De Smedt, Frederik De Bleser</i><br /></td></tr></tbody></table><h2>Documentation</h2><ul><li><a href="Colors.html#library" target="_self">How to get the library up and running</a></li><li><a href="Colors.html#color" target="_self">Colors</a></li><li><a href="Colors.html#colorlist" target="_self">Color lists</a></li><li><a href="Colors.html#rules" target="_self">Color lists from harmony rules </a>(complementary, analogous, ...)</li><li><a href="Colors.html#gradient" target="_self">Color lists from gradients</a></li><li><a href="Colors.html#range" target="_self">Color ranges</a></li><li><a href="Colors.html#shade" target="_self">Predefines color ranges: shades</a> (dark, bright, cool, ...)</li><li><a href="Colors.html#theme" target="_self">Grouping ranges into themes</a></li><li><a href="Colors.html#web" target="_self">Aggregating colors from the web</a></li><li><a href="Colors.html#shader" target="_self">Using a shader for lighting effects</a></li><li><a href="Colors.html#shadow" target="_self">Using dropshadows and gradient fills</a><br /></li></ul><p> </p><hr /><h2>How to get the library up and running</h2><p>Put the <i>colors</i> library folder in the same folder as your script so NodeBox can find the library. You can also put it in <i>~/Library/Application Support/NodeBox/.</i></p><pre class="python">colors = <span style="color: #530035;">ximport</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;colors&quot;</span><span style="">&#41;</span></pre></pre><span class="small_text">Outside of NodeBox you can also just do <i>import colors</i>. Color lists from image pixels then work with PIL.</span> <p> </p>      <hr /><h2><a name="color" title="color"></a>Colors<br /></h2><p>The Colors library has a number of commands that create a new color you can use with <a href="Reference_|_fill().html" target="_self">fill()</a> or <a href="Reference_|_fill().html" target="_self">stroke()</a>. </p><pre class="python">rgb<span style="">&#40;</span>r, g, b, a=<span style="color: #530035;">None</span>, <span style="">range</span>=<span style="">1.0</span>, name=<span style="color: #ff0080;">&quot;&quot;</span><span style="">&#41;</span></pre></pre><pre class="python">hsb<span style="">&#40;</span>h, s, b, a=<span style="color: #530035;">None</span>, <span style="">range</span>=<span style="">1.0</span>, name=<span style="color: #ff0080;">&quot;&quot;</span><span style="">&#41;</span></pre></pre><pre class="python">cmyk<span style="">&#40;</span>c, m, y, k, <span style="">range</span>=<span style="">1.0</span>, name=<span style="color: #ff0080;">&quot;&quot;</span><span style="">&#41;</span></pre></pre><pre class="python">lab<span style="">&#40;</span>l, a, b, <span style="">range</span>=<span style="">1.0</span>, name=<span style="color: #ff0080;">&quot;&quot;</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">hex</span><span style="">&#40;</span><span style="">str</span>, name=<span style="color: #ff0080;">&quot;&quot;</span><span style="">&#41;</span></pre></pre><p>With the <i>range</i> parameter you can define how you want to supply the channel values. For example, if you want to define <i>r</i>, <i>g</i> and <i>b</i> between 0 and 255 instead of between 0.0 and 1.0, set <i>range</i> to 255.</p><p>The optional <i>name</i> parameter lets you define a name for the color. Otherwise, a name will be guessed using the <i>clr.nearest_hue()</i> method (see below).  </p><p>The <i>hex()</i> command creates a color from a hexadecimal string (e.g. "#30343D").  <br /></p><pre class="python">named_color<span style="">&#40;</span><span style="">str</span><span style="">&#41;</span></pre></pre><p>The <i>named_color()</i> command creates a color from a name like "olive" or "maroon" or "antiquewhite". A list of all the named colors the command will recognize is <a href="Colors_|_named_colors.html" target="_self">here</a>. The really great thing is that <b>each of these named colors is also a command</b> in the Colors library. So the two colors in the example below are exactly the same:</p><pre class="python">clr1 = colors.<span style="">named_color</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;olive&quot;</span><span style="">&#41;</span>
clr2 = colors.<span style="">olive</span><span style="">&#40;</span><span style="">&#41;</span></pre></pre> <p> </p>       <hr /><p><span class="grey_box">Color properties</span><b> </b></p><p>Each of the above commands returns a <i>Color</i> object. It has all the standard properties a color created with the NodeBox <a href="Reference_|_color().html" target="_self">color()</a> command also has. You can use these to find out the color's R, B and B values, or its C, M, Y and K values, or its H, S and B values:</p><ul><li><i>clr.r</i>: the red value in RGB.</li><li><i>clr</i><i>.g</i>: the green value in RGB.</li><li><i>clr</i><i>.b</i>: the blue value in RGB.</li><li><i>clr</i><i>.a</i>: the alpha value (opacity).</li><li><i>clr</i><i>.c</i>: the cyan value in CMYK.</li><li><i>clr</i><i>.m</i>: the magenta value in CMYK.</li><li><i>clr</i><i>.y</i>: the yellow value in CMYK.</li><li><i>clr</i><i>.k</i>: the black value in CMYK.</li><li><i>clr</i><i>.hue</i>: the hue of the color in HSB.</li><li><i>clr</i><i>.saturation</i>: the saturation (grayness) of the color in HSB.</li><li><i>clr</i><i>.brightness</i>: the brightness of the color in HSB.</li></ul><p>The <i>Color</i> object in the Colors Library has some additional properties: </p><ul><li><i>clr</i><i>.name</i>: the name of this color.<br /></li><li><i>clr</i><i>.is_black</i>: will be <i>True</i> when the color's R, G and B values are 0.</li><li><i>clr</i><i>.is_white</i>: will be <i>True</i> when the color's R, G and B values are 1. </li><li><i>clr</i><i>.is_gray</i>: will be <i>True</i> when the color's R, G and B values are the same. </li><li><i>clr</i><i>.is_transparent</i>: will be <i>True</i> when the color is completely transparent.<br /></li><li><i>clr</i><i>.complement</i>: the complementary color (i.e. 180 degrees across the color wheel) of this color.<br /></li></ul><p> </p><hr /><p><span class="grey_box">Color methods</span><b> </b></p><p>Each color has a range of methods to manipulate it. Each of these returns a <b>copy</b> of the color.</p><pre class="python">clr.<span style="">copy</span><span style="">&#40;</span><span style="">&#41;</span></pre></pre><pre class="python">clr.<span style="">darken</span><span style="">&#40;</span>step=<span style="">0.1</span><span style="">&#41;</span></pre></pre><pre class="python">clr.<span style="">lighten</span><span style="">&#40;</span>step=<span style="">0.1</span><span style="">&#41;</span></pre></pre><pre class="python">clr.<span style="">desaturate</span><span style="">&#40;</span>step=<span style="">0.1</span><span style="">&#41;</span></pre></pre><pre class="python">clr.<span style="">saturate</span><span style="">&#40;</span>step=<span style="">0.1</span><span style="">&#41;</span></pre></pre><pre class="python">clr.<span style="">adjust_contrast</span><span style="">&#40;</span>step=<span style="">0.1</span><span style="">&#41;</span></pre></pre><pre class="python">clr.<span style="">adjust_rgb</span><span style="">&#40;</span>r=<span style="">0.0</span>, g=<span style="">0.0</span>, b=<span style="">0.0</span>, a=<span style="">0.0</span><span style="">&#41;</span></pre></pre><pre class="python">clr.<span style="">adjust_hsb</span><span style="">&#40;</span>h=<span style="">0.0</span>, s=<span style="">0.0</span>, b=<span style="">0.0</span>, a=<span style="">0.0</span><span style="">&#41;</span></pre></pre><p>What is interesting about these methods is that you can also apply them to  <a href="Colors.html#colorlist" target="_self">color lists</a>. This way you can quickly manipulate sets of colors without having to change each color individually.</p><p>The <i>clr.blend()</i> command returns a mixture from this color and another color:</p><pre class="python">clr.<span style="">blend</span><span style="">&#40;</span>clr, factor=<span style="">0.5</span><span style="">&#41;</span></pre></pre><p>The <i>clr.rotate()</i> command returns a color that is <i>angle</i> degrees across the color wheel. So when <i>angle</i> is 180, this returns the complementary color. </p><pre class="python">clr.<span style="color: #530035;">rotate</span><span style="">&#40;</span>angle=<span style="">180</span><span style="">&#41;</span></pre></pre><p>The <i>clr.analog()</i> command returns hues that are next to this one on the color wheel, separated by <i>angle</i>. The additional <i>d</i> parameter will slightly vary the color's brightness and saturation for more variation.<br /></p><pre class="python">clr.<span style="">analog</span><span style="">&#40;</span>angle=<span style="">20</span>, d=<span style="">0.5</span><span style="">&#41;</span></pre></pre><p>Another interesting method is <i>clr.nearest_hue()</i>. This returns the name of the name of a well-known hue this color resembles most (<i>red, orange, yellow, lime, green, teal, cyan, azure, blue, violet, purple or pink</i>). When the <i>primary</i> parameter is <i>True</i>, the name returned is limited to primary hues: <i>red, orange, yellow, green, blue, purple, pink</i>. </p><pre class="python">clr.<span style="">nearest_hue</span><span style="">&#40;</span>primary=<span style="color: #530035;">False</span><span style="">&#41;</span></pre></pre><p>To get the distance between two colors as a number there's the <i>clr.distance()</i> method. It returns a number between 0.0 and 1.0 representing the distance as if colors were arranged on a sphere (e.g. a disc of hues with the less saturated colors in the centre, darker discs in the sphere are at the bottom).</p><pre class="python">clr.<span style="">distance</span><span style="">&#40;</span>clr<span style="">&#41;</span></pre></pre><p>The <i>clr.swatch()</i> command draws a rectangle to the canvas filled with the color. The rectangle is located at <i>x</i> and <i>y</i> and has width <i>w</i> and height <i>h</i>. </p><pre class="python">clr.<span style="">swatch</span><span style="">&#40;</span>x, y, w=<span style="">35</span>, h=<span style="">35</span>, roundness=<span style="">0</span><span style="">&#41;</span></pre></pre></p>                                 <p> </p>                       <hr /><h2><a name="colorlist" title="colorlist"></a>Color lists</h2><p>The functionality of the Colors library becomes more interesting when we get down to working with lists of colors. You can store different colors in a list and then manipulate the entire collection. For example, make all of the colors darker, retrieve the lightest color, or even create a list from pixels in an image for example.</p><pre class="python"><span style="">list</span><span style="">&#40;</span>clr1, clr2, clr3, ..., name=<span style="color: #ff0080;">&quot;&quot;</span>, tags=<span style="">&#91;</span><span style="">&#93;</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">list</span><span style="">&#40;</span><span style="">&#91;</span>clr1, clr2, clr3, ...<span style="">&#93;</span>, name=<span style="color: #ff0080;">&quot;&quot;</span>, tags=<span style="">&#91;</span><span style="">&#93;</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">list</span><span style="">&#40;</span>imagepath, n=<span style="">10</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">list</span><span style="">&#40;</span>word<span style="">&#41;</span></pre></pre><pre class="python"><span style="">list</span><span style="">&#40;</span>Web.<span style="">KulerTheme</span><span style="">&#41;</span></pre></pre><p>Lists can be created from a number of indivdual colors, another list of colors, the pathname of an image from which to grab pixel values (you need to have the <a href="Core_Image.html" target="_self">Core Image</a> library installed), a word, or a kuler theme from the <a href="Web.html#kuler" target="_self">web.kuler.search()</a> command in the NodeBox Web library. </p><p>Optionally you can supply a <i>name</i> and a list of <i>tags</i> for the list. </p><p>Accessing each individual color in the list works the same as with any other list:</p><pre class="python">sea = colors.<span style="">list</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;sea.jpg&quot;</span>, n=<span style="">20</span><span style="">&#41;</span>
x = <span style="">0</span>
<span style="color: #530035;">for</span> clr <span style="color: #530035;">in</span> sea:
    <span style="color: #530035;">rect</span><span style="">&#40;</span>x, <span style="">0</span>, <span style="">20</span>, <span style="">20</span>, <span style="color: #530035;">fill</span>=clr<span style="">&#41;</span>
    x += <span style="">20</span></pre></pre><p><img src="http://nodebox.net/code/data/media/colors_colorlist1.jpg" alt="colors_colorlist1" /></p><p>You can also use the <a href="Reference_|_choice().html" target="_self">choice()</a> command to get a random colors from the list.</p><p> </p><hr /><p><span class="grey_box">Color list properties</span><b> </b></p><p>Each of the above commands returns a <i>ColorList</i> object with a number of properties: </p><ul><li><i>list.name</i>: the name of the set of colors.</li><li><i>list</i><i>.tags</i>: a list of associations.</li><li><i>list</i><i>.darkest</i>: the darkest color in the list (useful as a background or a text color for example).</li><li><i>list</i><i>.lightest</i>: the lightest color in the list.</li><li><i>list</i><i>.average</i>: the average (mean) color of all the colors in the list.</li><li><i>list</i><i>.complement</i>: the complementary color list.<br /></li></ul><p> </p><hr /><p><span class="grey_box">Color list methods</span><br /></p><p>Some methods to manipulate the list. All of these will return a <b>copy</b> of the list.<br /></p><pre class="python"><span style="">list</span>.<span style="">reverse</span><span style="">&#40;</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">list</span>.<span style="">sort</span><span style="">&#40;</span><span style="">reversed</span>=<span style="color: #530035;">True</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">list</span>.<span style="">repeat</span><span style="">&#40;</span><span style="">self</span>, n=<span style="">2</span>, oscillate=<span style="color: #530035;">False</span>, callback=<span style="color: #530035;">None</span><span style="">&#41;</span></pre></pre><p>The <i>list.reverse()</i> method returns a copy with all the colors in reversed order. </p><p>The <i>list</i><i>.sort()</i> method returns a copy with the colors sorted from dark to light. </p><p>The <i>list</i><i>.repeat()</i> method returns a repetition of the list: if the list contains a <i>red</i>, <i>green</i> and a <i>yellow</i> color, <i>list</i><i>.repeat() </i>will contain <i>red, green, yellow, red, green, yellow</i>. When <i>oscillate</i> is <i>True</i> it will contain <i>red, green, yellow, yellow, green, red</i>. This is useful for lists of gradient colors. </p><pre class="python"><span style="">list</span>.<span style="">swarm</span><span style="">&#40;</span>x, y, r=<span style="">100</span><span style="">&#41;</span></pre></pre> <p>The <i>list.swarm()</i> method draws a small visualization of all the colors in the list.</p><table border="0"><tbody><tr><td><span class="image_border"><img src="http://nodebox.net/code/data/media/colors_colorlist2.jpg" alt="colors_colorlist2" /></span></td><td><pre class="python">sea = colors.<span style="">list</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;sea.jpg&quot;</span>, n=<span style="">20</span><span style="">&#41;</span>
<span style="color: #530035;">background</span><span style="">&#40;</span>sea.<span style="">darkest</span><span style="">&#41;</span>
sea.<span style="">swarm</span><span style="">&#40;</span><span style="">50</span>, <span style="">50</span><span style="">&#41;</span></pre></pre></td></tr></tbody></table><p>All of the methods that work on a single color also work on a list of colors. They will transform all the individual colors in the list:</p><pre class="python"><span style="">list</span>.<span style="">copy</span><span style="">&#40;</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">list</span>.<span style="">darken</span><span style="">&#40;</span>step=<span style="">0.1</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">list</span>.<span style="">lighten</span><span style="">&#40;</span>step=<span style="">0.1</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">list</span>.<span style="">desaturate</span><span style="">&#40;</span>step=<span style="">0.1</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">list</span>.<span style="">saturate</span><span style="">&#40;</span>step=<span style="">0.1</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">list</span>.<span style="">adjust_contrast</span><span style="">&#40;</span>step=<span style="">0.1</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">list</span>.<span style="">adjust_rgb</span><span style="">&#40;</span>r=<span style="">0.0</span>, g=<span style="">0.0</span>, b=<span style="">0.0</span>, a=<span style="">0.0</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">list</span>.<span style="">adjust_hsb</span><span style="">&#40;</span>h=<span style="">0.0</span>, s=<span style="">0.0</span>, b=<span style="">0.0</span>, a=<span style="">0.0</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">list</span>.<span style="">analog</span><span style="">&#40;</span><span style="">self</span>, angle=<span style="">20</span>, d=<span style="">0.5</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">list</span>.<span style="color: #530035;">rotate</span><span style="">&#40;</span><span style="">self</span>, angle=<span style="">180</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">list</span>.<span style="">swatch</span><span style="">&#40;</span>x, y, w=<span style="">35</span>, h=<span style="">35</span>, padding=<span style="">0</span>, roundness=<span style="">0</span><span style="">&#41;</span></pre></pre>                 <p> </p><hr size="2" width="100%" /><p><span class="grey_box">Color list sorting</span> </p><p>The colors in a list can be sorted in various ways:</p><pre class="python"><span style="">list</span>.<span style="">sort</span><span style="">&#40;</span>comparison=<span style="color: #ff0080;">&quot;hue&quot;</span>, <span style="">reversed</span>=<span style="color: #530035;">False</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">list</span>.<span style="">sort_by_distance</span><span style="">&#40;</span><span style="">reversed</span>=<span style="color: #530035;">False</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">list</span>.<span style="">cluster</span><span style="">&#40;</span>cmp1=<span style="color: #ff0080;">&quot;hue&quot;</span>, cmp2=<span style="color: #ff0080;">&quot;brightness&quot;</span>, <span style="">reversed</span>=<span style="color: #530035;">False</span>, n=<span style="">12</span><span style="">&#41;</span></pre></pre><p>The basic <i>list.sort()</i> method allows you to sort by any color property (hue, brightness, red, magenta, ...)</p><p>The <i>list.cluster()</i> method sorts the list by the first given property, then cuts it into <i>n</i> pieces and sorts each of the pieces by the second given property. </p><p> </p><hr /><p><span class="grey_box">Color list math</span><br /></p><p>Individual colors (or lists of colors) can be added to a list with the + operator: </p><table border="0"><tbody><tr><td> <span class="image_border"><img src="http://nodebox.net/code/data/media/colors_colorlist3.jpg" alt="colors_colorlist3" /></span></td><td> <pre class="python">clrs = colors.<span style="">list</span><span style="">&#40;</span>
    colors.<span style="">purple</span><span style="">&#40;</span><span style="">&#41;</span>.<span style="">darken</span><span style="">&#40;</span><span style="">&#41;</span>, 
    colors.<span style="">deeppink</span><span style="">&#40;</span><span style="">&#41;</span> 
<span style="">&#41;</span>
clrs += colors.<span style="">violet</span><span style="">&#40;</span><span style="">&#41;</span>
clrs.<span style="">swarm</span><span style="">&#40;</span><span style="">50</span>, <span style="">50</span><span style="">&#41;</span></pre></pre></td></tr></tbody></table><p>Also, the * operator  is equivalent to the <i>list.repeat()</i> method.<br /></p><p> </p><hr /><p><span class="grey_box">Color context</span><br /></p><p>There's one additional <i>list.context</i> property which is a list of words associated with the colors in the list. For example, red is commonly associated with things like anger and passion, while black is associated with death, grief, modernism. </p><p>If you put them together in a color list, its context will contain words like anger, drama and power.</p><table border="0"><tbody><tr><td><span class="image_border"><img src="http://nodebox.net/code/data/media/colors_colorlist4.jpg" alt="colors_colorlist4" /></span></td><td><pre class="python">clrs = colors.<span style="">list</span><span style="">&#40;</span> colors.<span style="">red</span><span style="">&#40;</span><span style="">&#41;</span>, colors.<span style="">black</span><span style="">&#40;</span><span style="">&#41;</span> <span style="">&#41;</span>
clrs.<span style="">swarm</span><span style="">&#40;</span><span style="">50</span>, <span style="">50</span><span style="">&#41;</span>
<span style="color: #530035;">print</span> clrs.<span style="">context</span>
&gt;&gt;&gt; <span style="">&#91;</span><span style="color: #ff0080;">'anger'</span>, <span style="color: #ff0080;">'devil'</span>, <span style="color: #ff0080;">'drama'</span>, <span style="color: #ff0080;">'power'</span>, <span style="color: #ff0080;">'sex'</span>, <span style="color: #ff0080;">'strength'</span><span style="">&#93;</span></pre></pre></td></tr></tbody></table><p>The data is drawn from the files in the <i>/context </i>subfolder in the library. You can adjust them to your own needs. There's also a dictionary with all the information:</p><pre class="python"><span style="color: #530035;">print</span> colors.<span style="">context</span><span style="">&#91;</span><span style="color: #ff0080;">&quot;red&quot;</span><span style="">&#93;</span></pre></pre></p>                                 <hr /><h2><a name="rules" title="rules"></a>Color lists from harmony rules</h2><p>Color theory provides a visual guidance to color mixing and the visual impact of specific color combinations. With the Colors library you can create schemes from the following rules:</p><ul><li><b>complementary:</b> colors that are opposite of each other on the color wheel.</li><li><b>split complement:</b> a combination of left complement and right complement.</li><li><b>left complement:</b> a variation with colors a bit to the left of the actual complement.</li><li><b>right complement:</b> a variation with colors a bit to the right of the actual complement.</li><li><b>analogous:</b> colors that are next to each other on the color wheel. These yield natural schemes, like shades of water or grass).</li><li><b>monochrome:</b> colors in the same hue that vary in brightness and saturation.</li><li><b>triad:</b> a color and two other colors that make up an equilateral triangle on the color wheel.</li><li><b>tetrad:</b> four colors that make up a cross on the color wheel.</li><li><b>compound:</b> a color with its complement and some analogs of those colors.</li></ul><p> </p><p><pre class="python">complement<span style="">&#40;</span>clr<span style="">&#41;</span></pre></pre><pre class="python">complementary<span style="">&#40;</span>clr<span style="">&#41;</span></pre></pre><pre class="python">split_complementary<span style="">&#40;</span>clr<span style="">&#41;</span></pre></pre><pre class="python">left_complement<span style="">&#40;</span>clr<span style="">&#41;</span></pre></pre><pre class="python">right_complement<span style="">&#40;</span>clr<span style="">&#41;</span></pre></pre><pre class="python">analogous<span style="">&#40;</span>clr, angle=<span style="">10</span>, contrast=<span style="">0.25</span><span style="">&#41;</span></pre></pre><pre class="python">monochrome<span style="">&#40;</span>clr<span style="">&#41;</span></pre></pre><pre class="python">triad<span style="">&#40;</span>clr, angle=<span style="">120</span><span style="">&#41;</span></pre></pre><pre class="python">tetrad<span style="">&#40;</span>clr, angle=<span style="">90</span><span style="">&#41;</span></pre></pre><pre class="python">compound<span style="">&#40;</span>clr, flip=<span style="color: #530035;">False</span><span style="">&#41;</span></pre></pre><p>All of the commands take a base <i>clr</i> from which a scheme is then derived. A <a href="Colors.html#colorlist" target="_self">color list</a> is returned, usually containing three to six matching colors (except <i>complement()</i>, which just returns the original color and its complement). Notice that some commands have an <i>angle</i> parameter. This controls how far colors are apart on the color wheel. Making it bigger for the <i>analogous()</i> scheme introduces more variation.</p><p>There's also a <i>rule()</i> command where you can supply the rule name as a string. All of the rule names are stored in the <i>rules</i> list.<br /></p><pre class="python">rule<span style="">&#40;</span>name, clr, angle=<span style="color: #530035;">None</span>, contrast=<span style="">0.3</span>, flip=<span style="color: #530035;">False</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="color: #530035;">print</span> colors.<span style="">rules</span>
&gt;&gt;&gt; <span style="">&#91;</span><span style="color: #ff0080;">'complement'</span>, <span style="color: #ff0080;">'complementary'</span>, <span style="color: #ff0080;">'split complementary'</span>, <span style="color: #ff0080;">'left complement'</span>, 
&gt;&gt;&gt;  <span style="color: #ff0080;">'right complement'</span>, <span style="color: #ff0080;">'analogous'</span>, <span style="color: #ff0080;">'monochrome'</span>, <span style="color: #ff0080;">'triad'</span>, <span style="color: #ff0080;">'tetrad'</span>, 
&gt;&gt;&gt;  <span style="color: #ff0080;">'compound'</span>, <span style="color: #ff0080;">'flipped compound'</span><span style="">&#93;</span></pre></pre><p>With the <i>rule()</i> command we can quickly display all the possibilities for a color:</p><pre class="python">clr = colors.<span style="">rgb</span><span style="">&#40;</span><span style="">0.0</span>, <span style="">0.4</span>, <span style="">0.6</span><span style="">&#41;</span>
x = <span style="">10</span>
<span style="color: #530035;">for</span> name <span style="color: #530035;">in</span> colors.<span style="">rules</span>:
    scheme = colors.<span style="">rule</span><span style="">&#40;</span>name, clr<span style="">&#41;</span>
    scheme.<span style="">swatch</span><span style="">&#40;</span>x, <span style="">10</span><span style="">&#41;</span>
    x += <span style="">40</span></pre></pre><p><img src="http://nodebox.net/code/data/media/colors-rules0.jpg" alt="colors-rules0" /></p><p> </p><hr /><p>Here are some individual schemes: <br /></p>  <table border="0"><tbody><tr><td class="image_border"><img src="http://nodebox.net/code/data/media/colors-rules1.jpg" alt="colors-rules1" /><br /><br /></td><td><p>Complementary scheme: </p><pre class="python">clr = colors.<span style="">rgb</span><span style="">&#40;</span><span style="">0</span>, <span style="">0.4</span>, <span style="">0.6</span><span style="">&#41;</span>
scheme = colors.<span style="">complementary</span><span style="">&#40;</span>clr<span style="">&#41;</span>
scheme.<span style="">swarm</span><span style="">&#40;</span><span style="">75</span>, <span style="">75</span><span style="">&#41;</span>
scheme.<span style="">swatch</span><span style="">&#40;</span><span style="">0</span>, <span style="">0</span>, w=<span style="">25</span>, h=<span style="">25</span><span style="">&#41;</span></pre></pre></td></tr><tr><td class="image_border"><img src="http://nodebox.net/code/data/media/colors-rules3.jpg" alt="colors-rules3" /><br /><br /></td><td><p>Left complementary: </p><pre class="python">clr = colors.<span style="">rgb</span><span style="">&#40;</span><span style="">0</span>, <span style="">0.4</span>, <span style="">0.6</span><span style="">&#41;</span>
scheme = colors.<span style="">left_complement</span><span style="">&#40;</span>clr<span style="">&#41;</span>
scheme.<span style="">swarm</span><span style="">&#40;</span><span style="">75</span>, <span style="">75</span><span style="">&#41;</span>
scheme.<span style="">swatch</span><span style="">&#40;</span><span style="">0</span>, <span style="">0</span>, w=<span style="">25</span>, h=<span style="">25</span><span style="">&#41;</span></pre></pre></td></tr><tr><td class="image_border"><img src="http://nodebox.net/code/data/media/colors-rules5.jpg" alt="colors-rules5" /><br /><br /></td><td><p>Analogous: </p><pre class="python">clr = colors.<span style="">rgb</span><span style="">&#40;</span><span style="">0</span>, <span style="">0.4</span>, <span style="">0.6</span><span style="">&#41;</span>
scheme = colors.<span style="">analogous</span><span style="">&#40;</span>clr<span style="">&#41;</span>
scheme.<span style="">swarm</span><span style="">&#40;</span><span style="">75</span>, <span style="">75</span><span style="">&#41;</span>
scheme.<span style="">swatch</span><span style="">&#40;</span><span style="">0</span>, <span style="">0</span>, w=<span style="">25</span>, h=<span style="">25</span><span style="">&#41;</span></pre></pre> </td></tr><tr><td><span class="image_border"><img src="http://nodebox.net/code/data/media/colors-rules10.jpg" alt="colors-rules10" /></span> <br /></td><td><p>Flipped compound:</p><pre class="python">clr = colors.<span style="">rgb</span><span style="">&#40;</span><span style="">0</span>, <span style="">0.4</span>, <span style="">0.6</span><span style="">&#41;</span>
scheme = colors.<span style="">compound</span><span style="">&#40;</span>clr, flip=<span style="color: #530035;">True</span><span style="">&#41;</span>
scheme.<span style="">swarm</span><span style="">&#40;</span><span style="">75</span>, <span style="">75</span><span style="">&#41;</span>
scheme.<span style="">swatch</span><span style="">&#40;</span><span style="">0</span>, <span style="">0</span>, w=<span style="">25</span>, h=<span style="">25</span><span style="">&#41;</span></pre></pre></td></tr></tbody></table><p> </p><p>Techies may want to note that calculations for the rules are performed on an <i>artistic color wheel</i> based on <a href="http://en.wikipedia.org/wiki/RYB_color_model" target="_self">RYB</a> instead of RGB. This system predates scientific color theory and is mathematically incorrect - but it does produce better color schemes.</p><p> </p><hr /><p><span class="grey_box">Analog color scheme</span><br /></p><p>When you want a <b>realistic, organic feel</b> to your composition you can work with <b>analogous</b> schemes. Remember how a <a href="Colors.html#color" target="_self">color</a> object in the Colors library has an <i>analog()</i> method? It's very easy to use in a loop so that each element is subtly different:</p><pre class="python"><span style="color: #530035;">size</span><span style="">&#40;</span><span style="">600</span>, <span style="">600</span><span style="">&#41;</span>
<span style="color: #530035;">nofill</span><span style="">&#40;</span><span style="">&#41;</span>
<span style="color: #530035;">stroke</span><span style="">&#40;</span><span style="">0.4</span>, <span style="">0.5</span>, <span style="">0</span><span style="">&#41;</span>
<span style="color: #530035;">strokewidth</span><span style="">&#40;</span><span style="">0.1</span><span style="">&#41;</span>
<span style="color: #530035;">autoclosepath</span><span style="">&#40;</span><span style="color: #530035;">False</span><span style="">&#41;</span>
&nbsp;
clr = colors.<span style="">rgb</span><span style="">&#40;</span><span style="">0.6</span>, <span style="">0.4</span>, <span style="">0</span>, <span style="">0.5</span><span style="">&#41;</span>
&nbsp;
<span style="color: #530035;">background</span><span style="">&#40;</span>colors.<span style="">dark</span><span style="">&#40;</span>clr<span style="">&#41;</span>.<span style="">darken</span><span style="">&#40;</span><span style="">0.1</span><span style="">&#41;</span><span style="">&#41;</span>
colors.<span style="">shadow</span><span style="">&#40;</span>alpha=<span style="">0.05</span>, blur=<span style="">0.2</span><span style="">&#41;</span>
&nbsp;
<span style="color: #530035;">for</span> i <span style="color: #530035;">in</span> <span style="">range</span><span style="">&#40;</span><span style="">50</span><span style="">&#41;</span>:
    
    <span style="color: grey;"># Each strand of curves has an analogous color</span>
    <span style="color: grey;"># (i.e. hues that are next to each other on the color wheel).</span>
    <span style="color: grey;"># This yields a very natural effect.</span>
    <span style="color: #530035;">stroke</span><span style="">&#40;</span>clr.<span style="">analog</span><span style="">&#40;</span>angle=<span style="">10</span>, d=<span style="">0.3</span><span style="">&#41;</span><span style="">&#41;</span>
&nbsp;
    x0 = <span style="color: #530035;">WIDTH</span>/<span style="">2</span>
    y0 = <span style="color: #530035;">HEIGHT</span>/<span style="">2</span>
    vx0 = <span style="color: #530035;">random</span><span style="">&#40;</span><span style="">-200</span>, <span style="">200</span><span style="">&#41;</span>
    vy0 = <span style="color: #530035;">random</span><span style="">&#40;</span><span style="">-200</span>, <span style="">200</span><span style="">&#41;</span>
    vx1 = <span style="color: #530035;">random</span><span style="">&#40;</span><span style="">-200</span>, <span style="">200</span><span style="">&#41;</span> 
    vy1 = <span style="color: #530035;">random</span><span style="">&#40;</span><span style="">-200</span>, <span style="">200</span><span style="">&#41;</span>
    x1 = <span style="color: #530035;">choice</span><span style="">&#40;</span><span style="">&#40;</span><span style="">-10</span>, <span style="color: #530035;">WIDTH</span><span style="">&#41;</span><span style="">&#41;</span>
    y1 = <span style="color: #530035;">random</span><span style="">&#40;</span><span style="color: #530035;">HEIGHT</span><span style="">&#41;</span>
    <span style="color: #530035;">for</span> j <span style="color: #530035;">in</span> <span style="">range</span><span style="">&#40;</span><span style="">100</span><span style="">&#41;</span>:
        <span style="color: #530035;">beginpath</span><span style="">&#40;</span>x0, y0<span style="">&#41;</span>
        <span style="color: #530035;">curveto</span><span style="">&#40;</span>
            x0+vx0+<span style="color: #530035;">random</span><span style="">&#40;</span><span style="">80</span><span style="">&#41;</span>, y0+vy0+<span style="color: #530035;">random</span><span style="">&#40;</span><span style="">80</span><span style="">&#41;</span>, 
            x1+vx1, y1+vy1, 
            x1, y1
        <span style="">&#41;</span>
        <span style="color: #530035;">endpath</span><span style="">&#40;</span><span style="">&#41;</span></pre></pre><p> <img src="http://nodebox.net/code/data/media/colors-rules11.jpg" alt="colors-rules11" /><br /> </p><p>You can find this script fully documented in the library download.</p><p> </p><hr /><h2><a name="gradient" title="gradient"></a>Color lists from gradients</h2><p>The Colors library has a handy <i>gradient()</i> command that takes a couple of colors and calculates all the intermediary steps between them.</p><pre class="python">gradient<span style="">&#40;</span><span style="">&#91;</span>clr1, clr2, clr3, ...<span style="">&#93;</span>, steps=<span style="">100</span>, spread=<span style="">0.5</span><span style="">&#41;</span></pre></pre><pre class="python">gradient<span style="">&#40;</span>clr1, clr2, clr3, ..., steps=<span style="">100</span>, spread=<span style="">0.5</span><span style="">&#41;</span></pre></pre><p>You can supply base colors either as a list or simply as an enumeration of parameters. A <a href="Colors.html#colorlist" target="_self">color list</a> is returned with additional colors that form a smooth transistion between the given base colors. The command has two optional parameters: <i>steps</i> which defines the number of colors in the returned list, and <i>spread</i>, which defines the midpoint of the gradient. </p><p>For example, here we create a gradient list from light blue to dark blue. For each color in the list an oval is drawn that zooms inward. So we draw 60 ovals that go from light blue to dark blue:<br /></p><pre class="python">clr1 = colors.<span style="">rgb</span><span style="">&#40;</span><span style="">0.6</span>, <span style="">0.8</span>, <span style="">1.0</span><span style="">&#41;</span>
clr2 = colors.<span style="">rgb</span><span style="">&#40;</span><span style="">0.0</span>, <span style="">0.2</span>, <span style="">0.4</span><span style="">&#41;</span>
g = colors.<span style="">gradient</span><span style="">&#40;</span>clr1, clr2, steps=<span style="">60</span><span style="">&#41;</span>
&nbsp;
<span style="color: #530035;">for</span> i <span style="color: #530035;">in</span> <span style="">range</span><span style="">&#40;</span><span style="">len</span><span style="">&#40;</span>g<span style="">&#41;</span><span style="">&#41;</span>:
    <span style="color: #530035;">fill</span><span style="">&#40;</span>g<span style="">&#91;</span>i<span style="">&#93;</span><span style="">&#41;</span>
    r = <span style="">700</span>-i*<span style="">10</span>
    <span style="color: #530035;">oval</span><span style="">&#40;</span><span style="">-75</span>+i*<span style="">5</span>, <span style="">-180</span>+i*<span style="">5</span>, r, r<span style="">&#41;</span></pre></pre><p><span class="image_border"><img src="http://nodebox.net/code/data/media/colors-gradientlist1.jpg" alt="colors-gradientlist1" /></span></p><p>Let's add a nice spiral to the composition. As you can see in the example below, I can reset the number of <i>steps</i> in the gradient list (the number of colors is updated accordingly) - I don't need to create a new gradient. The same goes for the gradient <i>spread</i>. Additionaly, remember that <i>g</i> is a color list so I can use the <i>reverse()</i> method:  </p><pre class="python"><span style="color: grey;"># append this to the previous code:</span>
&nbsp;
g.<span style="">steps</span> = <span style="">200</span>
g = g.<span style="">reverse</span><span style="">&#40;</span><span style="">&#41;</span>
&nbsp;
colors.<span style="">shadow</span><span style="">&#40;</span>blur=<span style="">12</span>, alpha=<span style="">0.3</span><span style="">&#41;</span>
<span style="color: #530035;">transform</span><span style="">&#40;</span>CORNER<span style="">&#41;</span>
<span style="color: #530035;">translate</span><span style="">&#40;</span><span style="color: #530035;">WIDTH</span>/<span style="">2</span>, <span style="color: #530035;">HEIGHT</span>/<span style="">2</span><span style="">&#41;</span>
<span style="color: #530035;">for</span> i <span style="color: #530035;">in</span> <span style="">range</span><span style="">&#40;</span><span style="">len</span><span style="">&#40;</span>g<span style="">&#41;</span><span style="">&#41;</span>:
    <span style="color: #530035;">fill</span><span style="">&#40;</span>g<span style="">&#91;</span>i<span style="">&#93;</span><span style="">&#41;</span>
    <span style="color: #530035;">rotate</span><span style="">&#40;</span><span style="">3</span><span style="">&#41;</span>
    <span style="color: #530035;">oval</span><span style="">&#40;</span>i*<span style="">0.5</span>, i*<span style="">0.5</span>, <span style="">200</span>-i, <span style="">200</span>-i<span style="">&#41;</span></pre></pre><p><span class="image_border"><img src="http://nodebox.net/code/data/media/colors-gradientlist2.jpg" alt="colors-gradientlist2" /></span></p><p>My personal favorite is the one with all the different hues of blue mixed up. It reminds me of Alice in Wonderland. Replace the above <i>fill()</i> command with:</p><pre class="python"><span style="color: #530035;">fill</span><span style="">&#40;</span><span style="color: #530035;">choice</span><span style="">&#40;</span>g<span style="">&#41;</span><span style="">&#41;</span></pre></pre><p><img src="http://nodebox.net/code/data/media/colors-gradientlist3.jpg" alt="colors-gradientlist3" /> <br /></p><p> </p><hr /><p><span class="grey_box">Gradient outlines</span><b> </b></p><p>Finally, the Colors library has an <i>outline()</i> command which works extremely well with <i>gradient()</i>. The command colorizes the stroke of a path with the colors in a given list:</p><pre class="python">outline<span style="">&#40;</span>path, colors, precision=<span style="">0.4</span>, continuous=<span style="color: #530035;">True</span><span style="">&#41;</span></pre></pre><p>Outlines a <i>path</i> with the colors in the list. When <i>continuous</i> is False, each contour in the path starts with the first color in the list, and ends with the last color in the list. Because each line segment is drawn separately, the command works only with a corner-mode <a href="Reference_|_transform().html" target="_self">transform()</a>. </p><pre class="python"><span style="color: #530035;">font</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;Georgia&quot;</span>, <span style="">58</span><span style="">&#41;</span>
p = <span style="color: #530035;">textpath</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;gradient text is back!&quot;</span>, <span style="">10</span>, <span style="">50</span><span style="">&#41;</span>
g = colors.<span style="">gradient</span><span style="">&#40;</span><span style="color: #530035;">color</span><span style="">&#40;</span><span style="">1</span>,<span style="">0</span>,<span style="">0.5</span><span style="">&#41;</span>, <span style="color: #530035;">color</span><span style="">&#40;</span><span style="">0</span>,<span style="">0.5</span>,<span style="">1</span><span style="">&#41;</span><span style="">&#41;</span>
&nbsp;
colors.<span style="">outline</span><span style="">&#40;</span>p, g<span style="">&#41;</span></pre></pre><p><img src="http://nodebox.net/code/data/media/colors-gradientlist4.jpg" alt="colors-gradientlist4" /></p><p> </p><hr /><h2><a name="range" title="range"></a>Color ranges</h2><p>A color range is a set of indefinite <b>colors that have their hue, saturation and  brightness constrained</b> between a minimum and maximum value. You can use color ranges to quickly describe fuzzy concepts like <i>dark</i> and <i>bright</i>. </p><pre class="python"><span style="">range</span><span style="">&#40;</span>h=<span style="">&#40;</span><span style="">0.0</span>,<span style="">1.0</span><span style="">&#41;</span>, s=<span style="">&#40;</span><span style="">0.0</span>,<span style="">1.0</span><span style="">&#41;</span>, b=<span style="">&#40;</span><span style="">0.0</span>,<span style="">1.0</span><span style="">&#41;</span>, a=<span style="">&#40;</span><span style="">1.0</span>,<span style="">1.0</span><span style="">&#41;</span>, 
      grayscale=<span style="color: #530035;">False</span>, name=<span style="color: #ff0080;">&quot;&quot;</span>, length=<span style="">100</span><span style="">&#41;</span></pre></pre><p>The <i>h</i>, <i>s</i>, <i>b</i> and <i>a</i> parameters are (min, max) tuples with <i>min</i> and <i>max</i> ranging between 0.0 and 1.0. A color range behaves like a list of <i>length</i> individual colors - although the colors will be <b>different</b> each time you draw them from the range. </p><p>For example, the following range contains colors with all sorts of saturation and brightness, but their hues are limited between red and limegreen:</p><table border="0"><tbody><tr><td><span class="image_border"><img src="http://nodebox.net/code/data/media/colors-colorrange1.jpg" alt="colors-colorrange1" /></span></td><td><pre class="python">r = colors.<span style="">range</span><span style="">&#40;</span>h=<span style="">&#40;</span><span style="">0</span>,<span style="">0.2</span><span style="">&#41;</span><span style="">&#41;</span>
r.<span style="">swarm</span><span style="">&#40;</span><span style="">50</span>, <span style="">50</span><span style="">&#41;</span>
<span style="color: #530035;">print</span> r<span style="">&#91;</span><span style="">0</span>:<span style="">2</span><span style="">&#93;</span>
&gt;&gt;&gt; <span style="">&#91;</span>Color<span style="">&#40;</span><span style="">0.287</span>, <span style="">0.276</span>, <span style="">0.252</span>, <span style="">1.000</span><span style="">&#41;</span>, 
     Color<span style="">&#40;</span><span style="">0.089</span>, <span style="">0.064</span>, <span style="">0.026</span>, <span style="">1.000</span><span style="">&#41;</span><span style="">&#93;</span></pre></pre></td></tr></tbody></table><p>Color ranges often yield surprising results with a minimum amount of code:</p><pre class="python">r = colors.<span style="">range</span><span style="">&#40;</span>h=<span style="">&#40;</span><span style="">0</span>,<span style="">0.2</span><span style="">&#41;</span><span style="">&#41;</span>
<span style="color: #530035;">transform</span><span style="">&#40;</span>CORNER<span style="">&#41;</span>
<span style="color: #530035;">rotate</span><span style="">&#40;</span><span style="">45</span><span style="">&#41;</span>
<span style="color: #530035;">for</span> i <span style="color: #530035;">in</span> <span style="">range</span><span style="">&#40;</span><span style="color: #530035;">HEIGHT</span>/<span style="">10</span><span style="">&#41;</span>:
    <span style="color: #530035;">fill</span><span style="">&#40;</span><span style="color: #530035;">choice</span><span style="">&#40;</span>r<span style="">&#41;</span><span style="">&#41;</span>
    <span style="color: #530035;">rect</span><span style="">&#40;</span>-<span style="color: #530035;">WIDTH</span>, i*<span style="">15</span>, <span style="color: #530035;">WIDTH</span>*<span style="">2</span>, <span style="">20</span><span style="">&#41;</span></pre></pre><p><span class="image_border"><img src="http://nodebox.net/code/data/media/colors-colorrange2.jpg" alt="colors-colorrange2" /></span></p><p> </p><hr /><p><span class="grey_box">Color range methods, properties and calls</span><b> </b></p><p>A color range has the following methods:</p><pre class="python"><span style="">range</span>.<span style="">constrain_hue</span><span style="">&#40;</span><span style="">min</span>, <span style="">max</span>=<span style="color: #530035;">None</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">range</span>.<span style="">constrain_saturation</span><span style="">&#40;</span><span style="">min</span>, <span style="">max</span>=<span style="color: #530035;">None</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">range</span>.<span style="">constrain_brightness</span><span style="">&#40;</span><span style="">min</span>, <span style="">max</span>=<span style="color: #530035;">None</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">range</span>.<span style="">constrain_alpha</span><span style="">&#40;</span><span style="">min</span>, <span style="">max</span>=<span style="color: #530035;">None</span><span style="">&#41;</span></pre></pre><p>More complex ranges including gaps can be created by assigning a list of (<i>min</i>, <i>max</i>) tuples to a property directly:</p><pre class="python">high_contrast_reds = colors.<span style="">range</span><span style="">&#40;</span><span style="">&#41;</span>
high_contrast_reds.<span style="">h</span> = <span style="">0</span>
high_contrast_reds.<span style="">s</span> = <span style="">&#40;</span><span style="">0.5</span>, <span style="">1.0</span><span style="">&#41;</span>
high_contrast_reds.<span style="">b</span> = <span style="">&#91;</span><span style="">&#40;</span><span style="">0.1</span>,<span style="">0.2</span><span style="">&#41;</span>, <span style="">&#40;</span><span style="">0.9</span>,<span style="">1.0</span><span style="">&#41;</span><span style="">&#93;</span></pre></pre><p>Since a color range behaves like a <a href="Colors.html#colorlist" target="_self">color list</a> it also has <i>copy()</i>, <i>adjust_rgb()</i>, <i>repeat()</i>, <i>swatch()</i> ... methods.</p><p>If you need a single color from the range you can use the <i>range.color()</i> method:</p><pre class="python"><span style="">range</span>.<span style="color: #530035;">color</span><span style="">&#40;</span>clr=<span style="color: #530035;">None</span>, d=<span style="">0.035</span><span style="">&#41;</span></pre></pre><pre class="python"><span style="">range</span>.<span style="">colors</span><span style="">&#40;</span>clr=<span style="color: #530035;">None</span>, n=<span style="">10</span>, d=<span style="">0.035</span><span style="">&#41;</span></pre></pre><p>However, you can also directly<b> </b><b>call</b> a range like a command: </p><pre class="python">yellowgreenish = colors.<span style="">range</span><span style="">&#40;</span>h=<span style="">&#40;</span><span style="">0.1</span>,<span style="">0.2</span><span style="">&#41;</span><span style="">&#41;</span>
<span style="color: #530035;">background</span><span style="">&#40;</span> yellowgreenish<span style="">&#40;</span><span style="">&#41;</span> <span style="">&#41;</span></pre></pre><p>When you call a color range like this you can supply three optional parameters: </p><ul><li><i>clr</i>: a color to which hue is used to constrain anything drawn from the range.</li><li><i>d</i>: a small deviation to hue and brightness.</li><li><i>n</i>: if larger than 1 a color list of n elements is returned.</li></ul><p>Last but not least, you can use the + operator to combine two ranges.</p><p> </p><h2><hr /></h2><h2><a name="shade" title="shade"></a>Predefined color ranges: shades<br /></h2><p>We've already included some predefined color range variables in the library for you. We call them <b>shades</b>. These includes useful concepts such as <i>light</i> and <i>dark</i>, defined by a combination of saturation and brightness. </p><p>All of the shades are in the <i>shades</i> list:</p><pre class="python"><span style="color: #530035;">print</span> colors.<span style="">shades</span>
&gt;&gt;&gt; <span style="">&#91;</span>light, dark, bright, weak, neutral, fresh, soft, hard, warm, 
&gt;&gt;&gt;  cool, intense<span style="">&#93;</span></pre></pre></p>                                             <ul><li><b>light:</b> bright and light colors.</li><li><b>dark:</b> deep and colorfully saturated.</li><li><b>bright:</b> colorful and friendly.</li><li><b>weak:</b> neither light, soft nor neutral.</li><li><b>neutral:</b> desaturated and neither bright nor dark.</li><li><b>fresh:</b> light and friendly with a higher saturation than soft shades.</li><li><b>soft:</b> gentle pastel colors with small difference in saturation.</li><li><b>hard:</b> powerful colors but lighter than intense shades.</li><li><b>warm:</b> gently saturated and gently bright.</li><li><b>cool:</b> cold, bright and desaturated.</li><li><b>intense:</b> powerful deep/bright contrasts.<br /></li></ul><p>Here's a visual overview of all the shades. The <i>shades</i> list is traversed. Each individual shade is then called as a command (remember we can call color ranges like commands) and limited to a yellow hue. Since we also call the range with the <i>n</i> parameter, a <b>list</b> of range-constrained yellow colors is returned. </p><pre class="python">x = <span style="">20</span>
y = <span style="">20</span>
<span style="color: #530035;">for</span> shade <span style="color: #530035;">in</span> colors.<span style="">shades</span>:
    <span style="color: #530035;">text</span><span style="">&#40;</span>shade.<span style="">name</span>, x, y<span style="">-5</span>, <span style="color: #530035;">fill</span>=<span style="">0.2</span>, <span style="color: #530035;">fontsize</span>=<span style="">12</span><span style="">&#41;</span>
    clr = shade<span style="">&#40;</span>colors.<span style="">yellow</span><span style="">&#40;</span><span style="">&#41;</span>, n=<span style="">10</span><span style="">&#41;</span>
    clr.<span style="">swatch</span><span style="">&#40;</span>x, y<span style="">&#41;</span>
    x += <span style="">45</span></pre></pre></p>                                             <p><img src="http://nodebox.net/code/data/media/colors-shades0.jpg" alt="colors-shades0" /> <br /></p><p>The <i>shade()</i> command returns a shade by name:</p><table border="0"><tbody><tr><td><span class="image_border"><img src="http://nodebox.net/code/data/media/colors-shades1.jpg" alt="colors-shades1" /></span></td><td><pre class="python">clrs = colors.<span style="">shade</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;intense&quot;</span><span style="">&#41;</span>
clrs = clrs<span style="">&#40;</span>colors.<span style="">yellow</span><span style="">&#40;</span><span style="">&#41;</span>, n=<span style="">20</span><span style="">&#41;</span>
clrs.<span style="">swarm</span><span style="">&#40;</span><span style="">50</span>,<span style="">50</span><span style="">&#41;</span></pre></pre></td></tr></tbody></table><p> </p><p>You can also use shade variables directly. Here's a dark indigo color:<br /></p><table border="0"><tbody><tr><td><span class="image_border"><img src="http://nodebox.net/code/data/media/colors-shades2.jpg" alt="colors-shades2" /></span></td><td><pre class="python"><span style="color: #530035;">background</span><span style="">&#40;</span>colors.<span style="">dark</span><span style="">&#40;</span>colors.<span style="">indigo</span><span style="">&#40;</span><span style="">&#41;</span><span style="">&#41;</span><span style="">&#41;</span></pre></pre></td></tr></tbody></table><p> </p><p>Intense colors of any hue by simply calling the intense range without any parameter:<br /></p><table><tbody><tr><td><img src="http://nodebox.net/code/data/media/colors-shades3.jpg" alt="colors-shades3" /></td><td><pre class="python"><span style="color: #530035;">transform</span><span style="">&#40;</span>CORNER<span style="">&#41;</span>
<span style="color: #530035;">rotate</span><span style="">&#40;</span><span style="">45</span><span style="">&#41;</span>
<span style="color: #530035;">for</span> i <span style="color: #530035;">in</span> <span style="">range</span><span style="">&#40;</span><span style="color: #530035;">HEIGHT</span>/<span style="">10</span><span style="">&#41;</span>:
    <span style="color: #530035;">fill</span><span style="">&#40;</span>colors.<span style="">intense</span><span style="">&#40;</span><span style="">&#41;</span><span style="">&#41;</span>
    <span style="color: #530035;">rect</span><span style="">&#40;</span>-<span style="color: #530035;">WIDTH</span>, i*<span style="">10</span>, <span style="color: #530035;">WIDTH</span>*<span style="">2</span>, <span style="">20</span><span style="">&#41;</span></pre></pre></td></tr></tbody></table><p> </p><hr /><p><span class="grey_box">Color shade inference</span> </p><p>Now that we have learned about shades it is easy to deduce some information from individual colors. First of all, we can check if a colors falls within a certain shade range (check if a color is dark or bright for example):</p><pre class="python">clr = colors.<span style="">red</span><span style="">&#40;</span><span style="">&#41;</span>
<span style="color: #530035;">print</span> clr <span style="color: #530035;">in</span> colors.<span style="">bright</span>
&gt;&gt;&gt; <span style="color: #530035;">True</span> <span style="color: grey;"># red is a bright color.</span></pre></pre><p>And since we can find out if a color is dark, bright, neutral, cool, etc. we can guess a name for it:</p><pre class="python"><span style="color: #530035;">print</span> colors.<span style="">guess_name</span><span style="">&#40;</span> <span style="color: #530035;">color</span><span style="">&#40;</span><span style="">1</span>, <span style="">0</span>, <span style="">0.5</span><span style="">&#41;</span> <span style="">&#41;</span>
&gt;&gt;&gt; bright pink</pre></pre></p>                                   <hr /><h2><a name="theme" title="theme"></a>Grouping ranges into color themes</h2><p>We can group different <a href="Colors.html#range" target="_self">color ranges</a> into a color theme. Each of the color ranges in a theme has a hue associated with it and a weight which determines its frequency in the theme. Simply put, a <i>sand</i> theme would be made up of combinations like <i>50% soft ivory</i>, 25% <i>dark goldenrod</i> and <i>25% warm brown</i>.</p><pre class="python">theme<span style="">&#40;</span>name=<span style="color: #ff0080;">&quot;&quot;</span>, guess=<span style="color: #530035;">False</span>, length=<span style="">100</span><span style="">&#41;</span></pre></pre><p>The theme command returns a <i>ColorTheme</i> object with the following properties:</p><ul><li><i>theme.name</i>: the name of the theme.</li><li><i>theme.ranges</i>: a list of (color, range, weight)-tuples.</li><li><i>theme.tags</i>: a list of associated keywords.</li><li><i>theme.length</i>: the number of colors returned in a for-loop. </li></ul><p><br />To add a color range to the theme you use the <i>theme.add_range()</i> method:</p><pre class="python">theme.<span style="">add_range</span><span style="">&#40;</span><span style="">range</span>, clr=<span style="color: #530035;">None</span>, weight=<span style="">1.0</span><span style="">&#41;</span></pre></pre><p>You can supply <a href="Colors.html#shade" target="_self">shades</a>,  your own color ranges, or a <i>shade + named color</i> string to the <i>range</i> parameter. The following two themes are the same (by "the same" we mean that they contain the same ranges - however, their output may vary as ranges do not contain fixed colors). </p><table border="0"><tbody><tr><td> <img src="http://nodebox.net/code/data/media/colors-range1.jpg" alt="colors-range1" /></td><td><pre class="python">sand = colors.<span style="">theme</span><span style="">&#40;</span><span style="">&#41;</span>
sand.<span style="">add_range</span><span style="">&#40;</span>colors.<span style="">soft</span>, colors.<span style="">ivory</span><span style="">&#40;</span><span style="">&#41;</span>, weight=<span style="">0.5</span><span style="">&#41;</span>
sand.<span style="">add_range</span><span style="">&#40;</span>colors.<span style="">dark</span>, colors.<span style="">goldenrod</span><span style="">&#40;</span><span style="">&#41;</span>, weight=<span style="">0.25</span><span style="">&#41;</span>
sand.<span style="">add_range</span><span style="">&#40;</span>colors.<span style="">warm</span>, colors.<span style="">brown</span><span style="">&#40;</span><span style="">&#41;</span>, weight=<span style="">0.25</span><span style="">&#41;</span>
sand.<span style="">swatch</span><span style="">&#40;</span><span style="">2</span>, <span style="">2</span>, w=<span style="">7</span>, h=<span style="">7</span>, padding=<span style="">1</span><span style="">&#41;</span></pre></pre></td></tr><tr><td> <img src="http://nodebox.net/code/data/media/colors-range2.jpg" alt="colors-range2" /></td><td><pre class="python">sand = colors.<span style="">theme</span><span style="">&#40;</span><span style="">&#41;</span>
sand.<span style="">add_range</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;soft ivory&quot;</span>, weight=<span style="">0.5</span><span style="">&#41;</span>
sand.<span style="">add_range</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;dark goldenrod&quot;</span>, weight=<span style="">0.25</span><span style="">&#41;</span>
sand.<span style="">add_range</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;warm brown&quot;</span>, weight=<span style="">0.25</span><span style="">&#41;</span> 
sand.<span style="">swatch</span><span style="">&#40;</span><span style="">2</span>, <span style="">2</span>, w=<span style="">7</span>, h=<span style="">7</span>, padding=<span style="">1</span><span style="">&#41;</span></pre></pre></td></tr></tbody></table><p>You can retrieve an individual (random) color from the theme with the <i>theme.color()</i> method, or a color list with the <i>theme.colors()</i> method. The weight of each range is taken into account - heavier ranges will output more colors. </p><pre class="python">theme.<span style="color: #530035;">color</span><span style="">&#40;</span>d=<span style="">0.035</span><span style="">&#41;</span></pre></pre><pre class="python">theme.<span style="">colors</span><span style="">&#40;</span>n=<span style="">10</span>, d=<span style="">0.035</span><span style="">&#41;</span></pre></pre><p>The optional <i>d</i> parameter provides a slight variation in brightness and saturation. </p><p>To retrieve a single color you can also simply call the theme as a command. Or to retrieve multiple colors you can treat it as a list containing <i>length</i> colors (the <i>length</i> parameter in the <i>theme()</i> command).<br /></p><pre class="python"><span style="color: #530035;">size</span><span style="">&#40;</span><span style="">550</span>, <span style="">275</span><span style="">&#41;</span>
<span style="color: #530035;">background</span><span style="">&#40;</span> sand<span style="">&#40;</span><span style="">&#41;</span> <span style="">&#41;</span>
colors.<span style="">shadow</span><span style="">&#40;</span>alpha=<span style="">0.4</span>, dx=<span style="">-40</span>, blur=<span style="">10</span><span style="">&#41;</span>
&nbsp;
<span style="color: #530035;">for</span> clr <span style="color: #530035;">in</span> sand:
    <span style="color: #530035;">fill</span><span style="">&#40;</span>clr<span style="">&#41;</span>
    <span style="color: #530035;">translate</span><span style="">&#40;</span><span style="">10</span><span style="">&#41;</span>
    <span style="color: #530035;">scale</span><span style="">&#40;</span><span style="">0.96</span><span style="">&#41;</span>
    <span style="color: #530035;">skew</span><span style="">&#40;</span><span style="">10</span><span style="">&#41;</span>
    <span style="color: #530035;">rect</span><span style="">&#40;</span><span style="">0</span>, <span style="">-40</span>, <span style="">400</span>, <span style="">400</span><span style="">&#41;</span></pre></pre><p><span class="image_border"><img src="http://nodebox.net/code/data/media/colors-range3.jpg" alt="colors-range3" /></span></p><p> A color theme also has the standard <i>copy()</i>, <i>swatch()</i> and <i>swarm()</i> methods. The <i>swatch()</i> method has an additional <i>grouped</i> parameter. When set to <i>True</i>, provides a more compact layout. </p><p>You can use the + operator to add two themes together or test if a color is part of a theme with the <i>in </i>operator.</p><p>Another interesting method is theme.recombine(). You can use it to create a new generation from two parent themes using a cut-and-splice techniques. Check the examples included in the library.</p><pre class="python">theme1.<span style="">recombine</span><span style="">&#40;</span>theme2, d=<span style="">0.7</span><span style="">&#41;</span></pre></pre> <p> </p><hr /><p><span class="grey_box">Aggregated themes</span> <br /></p><p>The Colors library comes bundled with more than four thousand color themes, grouped into four categories: emotion, nature, adjectives, and basic english words. These themes have been harvested from the web using the technique explained in the <a href="Prism.html" target="_self">Prism</a> example. Some of them look great, others decent, others bad. But it's a good source to get inspiration nonetheless.</p><p>To load an aggregated theme, <b>create a theme with a name</b>:</p><table border="0"><tbody><tr><td> <span class="image_border"><img src="http://nodebox.net/code/data/media/colors-range4.jpg" alt="colors-range4" /></span></td><td><pre class="python">t = colors.<span style="">theme</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;sky&quot;</span>, guess=<span style="color: #530035;">True</span><span style="">&#41;</span>
<span style="color: #530035;">background</span><span style="">&#40;</span> colors.<span style="">list</span><span style="">&#40;</span>t<span style="">&#41;</span>.<span style="">darkest</span><span style="">&#41;</span>
t.<span style="">swarm</span><span style="">&#40;</span><span style="">50</span>, <span style="">50</span><span style="">&#41;</span></pre></pre></td></tr><tr><td> <span class="image_border"><img src="http://nodebox.net/code/data/media/colors-range5.jpg" alt="colors-range5" /></span></td><td><pre class="python">t = colors.<span style="">theme</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;love&quot;</span>, guess=<span style="color: #530035;">True</span><span style="">&#41;</span>
<span style="color: #530035;">background</span><span style="">&#40;</span> colors.<span style="">list</span><span style="">&#40;</span>t<span style="">&#41;</span>.<span style="">darkest</span><span style="">&#41;</span>
t.<span style="">swarm</span><span style="">&#40;</span><span style="">50</span>, <span style="">50</span><span style="">&#41;</span></pre></pre></td></tr></tbody></table><p>Adjectives and emotions work best. If a word is not found an exception will be raised. When the optional <i>guess</i> parameter is <i>True</i>, a theme will be returned for a word that closely matches the given name.</p><p>Here are some additional sets you can install:<br /><a href="https://www.nodebox.net/code/data/media/colors/geography.zip" target="_self">geography</a> | <a href="https://www.nodebox.net/code/data/media/colors/people.zip" target="_self">people</a> | <a href="https://www.nodebox.net/code/data/media/colors/music_genre.zip" target="_self">music genres</a> </p><p> </p><hr /><h2><a name="web" title="web"></a>Aggregating colors from the web</h2><p>If you also have the <a href="Web.html" target="_self">Web library</a> installed, you can expand the database of aggregated themes with your own queries. The <i>google()</i> and <i>yahoo()</i> commands will query the web and return a color theme based on the top colors and shades that appear in the content of web pages (see  <a href="Prism.html" target="_self">Prism</a>).</p><pre class="python">google<span style="">&#40;</span>query<span style="">&#41;</span></pre></pre><pre class="python">yahoo<span style="">&#40;</span>query, license=<span style="color: #530035;">None</span><span style="">&#41;</span></pre></pre><p>The command returns a <a href="Colors.html#theme" target="_self">color theme</a>. With the <i>yahoo()</i> command, you can specify your own <a href="Web.html#yahoo" target="_self">Yahoo! license key</a> with the optional <i>license</i> parameter. It will take some time to retrieve all the information from the web the first time. After that, the search query is stored locally and can be retrieved instantly. </p><p>Another way to get color information (with good results) is by measuring pixels in online images. The morguefile() command will scan thumbnails in the <a href="http://morguefile.com" target="_self">morgueFile</a> archive for colors:</p><pre class="python">morguefile<span style="">&#40;</span>query, n<span style="">&#41;</span></pre></pre><p>The command will return a <a href="Colors.html#colorlist" target="_self">color list</a> with <i>n</i> colors. </p><p> </p><hr /><h2><a name="shader" title="shader"></a>Using a shader for lighting effects</h2><p>The Colors library has a useful <i>shader()</i> command that <b>simulates a source of light</b>. You can control the source of the light, its direction and strength across the canvas to determine the colors of onscreen elements.</p><pre class="python">shader<span style="">&#40;</span>x, y, dx, dy, radius=<span style="">300</span>, angle=<span style="">0</span>, spread=<span style="">90</span><span style="">&#41;</span></pre></pre><p>The x and y is the position of an element on the canvas. The <i>dx</i> and <i>dy</i> is the position of the lightsource. Based on the distance between the two a number from 0.0 (no light) to 1.0 (full light) is returned, representing how much light the element receives. The <i>radius</i> determines the strength of the light (how far it reaches), <i>angle</i> determines the direction in which light is shining (<i>None</i> if it shines equally in all directions) and <i>spread</i> determines the extent of the beam (wide or narrow).</p><p>In this example a light source is positioned in the lower right corner. The value returned from the <i>shader()</i> command is used to modify each oval's brightness.<br /></p><p> <img src="http://nodebox.net/code/data/media/colors-shader1.jpg" alt="colors-shader1" /></p><pre class="python"><span style="color: #530035;">size</span><span style="">&#40;</span><span style="">550</span>, <span style="">300</span><span style="">&#41;</span>
<span style="color: #530035;">background</span><span style="">&#40;</span><span style="">0.1</span>,<span style="">0</span>,<span style="">0.05</span><span style="">&#41;</span>
<span style="color: #530035;">colormode</span><span style="">&#40;</span><span style="color: #530035;">HSB</span><span style="">&#41;</span>
colors.<span style="">shadow</span><span style="">&#40;</span><span style="">&#41;</span>
<span style="color: #530035;">for</span> i <span style="color: #530035;">in</span> <span style="">range</span><span style="">&#40;</span><span style="">3000</span><span style="">&#41;</span>:
    x = <span style="color: #530035;">random</span><span style="">&#40;</span><span style="color: #530035;">WIDTH</span><span style="">&#41;</span>
    y = <span style="color: #530035;">random</span><span style="">&#40;</span><span style="color: #530035;">HEIGHT</span><span style="">&#41;</span>
    r = <span style="color: #530035;">random</span><span style="">&#40;</span><span style="">10</span>,<span style="">30</span><span style="">&#41;</span>
    d = colors.<span style="">shader</span><span style="">&#40;</span>x, y, <span style="">550</span>, <span style="">300</span>, angle=<span style="">150</span><span style="">&#41;</span>
    <span style="color: grey;"># HSB is brighter and opaque in the centre of the light.</span>
    <span style="color: #530035;">fill</span><span style="">&#40;</span><span style="">0.84</span>+d*<span style="">0.1</span>, <span style="">1</span>, <span style="">0.2</span><span style="">+0.8</span>*d, d<span style="">&#41;</span>
    <span style="color: #530035;">oval</span><span style="">&#40;</span>x, y, r, r<span style="">&#41;</span></pre></pre><p>We can get different effects by modifying the position, radius and spread of the light:</p><pre class="python">d = colors.<span style="">shader</span><span style="">&#40;</span>x, y, <span style="">275</span>, <span style="">300</span>, radius=<span style="">200</span>, angle=<span style="">90</span>, spread=<span style="">180</span><span style="">&#41;</span></pre></pre><p><img src="http://nodebox.net/code/data/media/colors-shader2.jpg" alt="colors-shader2" /></p><p> </p><p>When used together with <i>shadow()</i> and <i>gradientpath()</i>, we can now create compositions with a realistic sense of <b>depth</b>:  </p><p><img src="http://nodebox.net/code/data/media/colors-shader3.jpg" alt="colors-shader3" /></p><pre class="python"><span style="color: grey;"># Deep green gradient background.</span>
<span style="color: #530035;">size</span><span style="">&#40;</span><span style="">400</span>, <span style="">400</span><span style="">&#41;</span>
bg = <span style="color: #530035;">rect</span><span style="">&#40;</span><span style="">0</span>, <span style="">0</span>, <span style="color: #530035;">WIDTH</span>, <span style="color: #530035;">HEIGHT</span>, draw=<span style="color: #530035;">False</span><span style="">&#41;</span>
colors.<span style="">gradientpath</span><span style="">&#40;</span>bg, <span style="color: #530035;">color</span><span style="">&#40;</span><span style="">0.15</span>,<span style="">0.2</span>,<span style="">0</span><span style="">&#41;</span>, <span style="color: #530035;">color</span><span style="">&#40;</span><span style="">0</span>,<span style="">0</span>,<span style="">0</span><span style="">&#41;</span><span style="">&#41;</span>
&nbsp;
colors.<span style="">shadow</span><span style="">&#40;</span><span style="">&#41;</span>
<span style="color: #530035;">for</span> i <span style="color: #530035;">in</span> <span style="">range</span><span style="">&#40;</span><span style="">800</span><span style="">&#41;</span>:    
    x = <span style="color: #530035;">random</span><span style="">&#40;</span><span style="">400</span><span style="">&#41;</span>
    y = <span style="color: #530035;">random</span><span style="">&#40;</span><span style="">400</span><span style="">&#41;</span>    
    <span style="color: grey;"># A lightsource positioned at the centre of the canvas.</span>
    d = colors.<span style="">shader</span><span style="">&#40;</span>x, y, <span style="">200</span>, <span style="">200</span>, angle=<span style="color: #530035;">None</span>, radius=<span style="">150</span><span style="">&#41;</span>    
    <span style="color: grey;"># Oval become smaller when further away from the light.</span>
    <span style="color: grey;"># If they become too small, don't draw them.</span>
    r = d*<span style="">40</span>
    <span style="color: #530035;">if</span> r &lt; <span style="">4</span>: <span style="color: #530035;">continue</span>
    p = <span style="color: #530035;">oval</span><span style="">&#40;</span>x, y, r*<span style="">2</span>, r*<span style="">2</span>, draw=<span style="color: #530035;">False</span><span style="">&#41;</span>    
    <span style="color: grey;"># Two colors for an oval gradient fill.</span>
    <span style="color: grey;"># The green becomes lighter and more opaque</span>
    <span style="color: grey;"># when elements are nearer to the light.</span>
    <span style="color: #530035;">nostroke</span><span style="">&#40;</span><span style="">&#41;</span>
    clr1 = <span style="color: #530035;">color</span><span style="">&#40;</span><span style="">0.4</span>+d*<span style="">0.5</span>, <span style="">0.6</span>+d*<span style="">0.3</span>, <span style="">0</span>, <span style="">0.75</span><span style="">&#41;</span>
    clr2 = <span style="color: #530035;">color</span><span style="">&#40;</span><span style="">0</span>, <span style="">0</span>, <span style="">0</span>, d<span style="">&#41;</span>
    colors.<span style="">gradientpath</span><span style="">&#40;</span>p, clr1, clr2, alpha=<span style="">0.5</span>+d, dx=r, dy=r<span style="">&#41;</span></pre></pre><p>Let's just add a few more bells to the script! For each oval at the edge of the nucleus, we'll draw some curves bending inward.</p><pre class="python"><span style="color: grey;">#   add to the script above:</span>
    <span style="color: #530035;">nofill</span><span style="">&#40;</span><span style="">&#41;</span>
    <span style="color: #530035;">stroke</span><span style="">&#40;</span>clr1<span style="">&#41;</span>
    <span style="color: #530035;">strokewidth</span><span style="">&#40;</span><span style="">0.25</span><span style="">&#41;</span>
    <span style="color: #530035;">autoclosepath</span><span style="">&#40;</span><span style="color: #530035;">False</span><span style="">&#41;</span>
    <span style="color: #530035;">if</span> d &lt; <span style="">0.3</span>:
        <span style="color: #530035;">for</span> j <span style="color: #530035;">in</span> <span style="">range</span><span style="">&#40;</span><span style="color: #530035;">random</span><span style="">&#40;</span><span style="">10</span><span style="">&#41;</span><span style="">&#41;</span>:
            v = <span style="">&#40;</span><span style="">1</span>-d<span style="">&#41;</span> * <span style="">150</span>
            <span style="color: #530035;">beginpath</span><span style="">&#40;</span>x, y<span style="">&#41;</span>
            <span style="color: #530035;">curveto</span><span style="">&#40;</span>x, y, x+<span style="color: #530035;">random</span><span style="">&#40;</span>-v,v<span style="">&#41;</span>, y+<span style="color: #530035;">random</span><span style="">&#40;</span>-v,v<span style="">&#41;</span>, <span style="">200</span>, <span style="">200</span><span style="">&#41;</span>
            <span style="color: #530035;">endpath</span><span style="">&#40;</span><span style="">&#41;</span></pre></pre><p>With the <a href="Supershape.html" target="_self">Supershape</a> library we can draw all sorts of organic forms. Let's use it to add a pattern to each oval.</p><pre class="python"><span style="color: grey;">#   add to the script above:</span>
    supershape = <span style="color: #530035;">ximport</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;supershape&quot;</span><span style="">&#41;</span>
    <span style="color: #530035;">strokewidth</span><span style="">&#40;</span>d*<span style="">0.75</span><span style="">&#41;</span>
    <span style="color: #530035;">if</span> d &gt; <span style="">0.25</span>:
        p = supershape.<span style="">path</span><span style="">&#40;</span>x+r, y+r, r, r, <span style="">10</span>, <span style="">1.5</span>, <span style="">-0.5</span>, <span style="">1.5</span><span style="">&#41;</span>
        <span style="color: #530035;">drawpath</span><span style="">&#40;</span>p<span style="">&#41;</span></pre></pre><p><img src="http://nodebox.net/code/data/media/colors-shader5.jpg" alt="colors-shader5" /> <br /></p><p> </p><hr /><h2><a name="shadow" title="shadow"></a>Using dropshadows and gradient fills</h2><p>The Colors library has a <i>shadow()</i> command and a <i>gradientfill()</i> to add depth to your compositions. Shadows influence all the elements on the canvas while gradients are applied to a given <a href="Reference_|_BezierPath.html" target="_self">path</a>.</p><pre class="python">shadow<span style="">&#40;</span>dx=<span style="">10</span>, dy=<span style="">10</span>, alpha=<span style="">0.25</span>, blur=<span style="">4.0</span><span style="">&#41;</span></pre></pre><pre class="python">noshadow<span style="">&#40;</span><span style="">&#41;</span></pre></pre><pre class="python">gradientfill<span style="">&#40;</span>path, clr1, clr2, <span style="">type</span>=<span style="color: #ff0080;">&quot;radial&quot;</span>, 
             dx=<span style="">0</span>, dy=<span style="">0</span>, spread=<span style="">1.0</span>, angle=<span style="">0</span>, alpha=<span style="">1.0</span><span style="">&#41;</span></pre></pre><p>The <i>shadow()</i> and <i>noshadow()</i> commands work like <a href="Reference_|_fill().html" target="_self">fill()</a> and <a href="Reference_|_nofill().html" target="_self">nofill()</a>. Once you set a shadow all the subsequent elements you draw to the canvas will have a dropshadow (or until <i>nofill()</i> is called). The <i>dx</i> and <i>dy</i> define the shadow's offset, <i>alpha</i> the shadow's opacity and <i>blur</i> its sharpness.</p><p>The <i>gradientfill()</i> command takes a given <i>path</i> just like <a href="Reference_|_drawpath().html" target="_self">drawpath()</a> and draws it to the screen filled with a gradient ranging between <a href="Reference_|_color().html" target="_self">colors</a> <i>clr1</i> and <i>clr2</i>. The <i>type</i> of gradient can be "radial" or "linear".</p><p>The <i>spread</i> parameter is the distance between the two colors. It can be a relative float number between 0.0 and 1.0 or an absolute int. In the case of a float, 1.0 represents the highest of either width and height for radial gradients, and the lowest of width and height for linear gradients. </p><p>It's also useful to note the <i>alpha</i> parameter. When a gradient fill is drawn, the path is first filled with an opaque color, and the gradient mask is then drawn on top of that. While <i>clr1</i> and <i>clr2</i> can have their individual alpha value, <i>alpha</i> controls the opacity of the opaque underground. When you hide the opaque underground, no shadows will be rendered for this layer - so it's bit of tweaking to combine shadows and gradients.<br /></p><p>An example with shadows and gradient supershapes:<br /></p><pre class="python"><span style="color: grey;"># Enable dropshadows</span>
colors.<span style="">shadow</span><span style="">&#40;</span>alpha=<span style="">0.75</span><span style="">&#41;</span>
<span style="color: #530035;">rotate</span><span style="">&#40;</span><span style="">90</span><span style="">&#41;</span>
<span style="color: #530035;">for</span> i <span style="color: #530035;">in</span> <span style="">range</span><span style="">&#40;</span><span style="">100</span><span style="">&#41;</span>:
    <span style="color: grey;"># Combination of rotate, scale and translate yields a spiral.</span>
    <span style="color: #530035;">rotate</span><span style="">&#40;</span><span style="">14</span><span style="">&#41;</span>
    <span style="color: #530035;">scale</span><span style="">&#40;</span><span style="">0.95</span><span style="">&#41;</span>
    <span style="color: #530035;">translate</span><span style="">&#40;</span><span style="">50</span>, <span style="">0</span><span style="">&#41;</span>
    <span style="color: grey;"># A pointy supershape path.</span>
    supershape = <span style="color: #530035;">ximport</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;supershape&quot;</span><span style="">&#41;</span>
    path = supershape.<span style="">path</span><span style="">&#40;</span><span style="">650</span>, <span style="">500</span>, <span style="">350</span>, <span style="">350</span>, <span style="">6</span>, <span style="">0.74</span>, <span style="">0.3</span>, <span style="">-4.64</span>-i<span style="">&#41;</span>
    <span style="color: grey;"># The gradient fill.</span>
    <span style="color: grey;"># Notice how the second color alters in each iteration.</span>
    colors.<span style="">gradientfill</span><span style="">&#40;</span>
        path, 
        <span style="color: #530035;">color</span><span style="">&#40;</span><span style="">0.0</span>, <span style="">0.6</span>, <span style="">0.9</span>, <span style="">0.25</span><span style="">&#41;</span>, 
        <span style="color: #530035;">color</span><span style="">&#40;</span><span style="">0.18</span>+i*<span style="">0.03</span>, <span style="">0.0</span>, <span style="">0.1</span>+i*<span style="">0.01</span>, <span style="">0.9</span>-i*<span style="">0.02</span><span style="">&#41;</span>, 
        dx=<span style="">88</span>-i*<span style="">10</span>, dy=<span style="">-25</span>+i, 
        spread=<span style="">0.83</span>, 
        alpha=<span style="">0.25</span>
    <span style="">&#41;</span></pre></pre><p><img src="http://nodebox.net/code/data/media/colors-gradient1.jpg" alt="colors-gradient1" /> <br /></p><? include("util/comment.php"); ?>
</div>
  
</div>

<div id="footer">
Last modified: Apr 16 2009 | &copy; 2004-2012 <a href="http://www.emrg.be/" class="noexternal">Experimental Media Research Group</a>
</div>
<img src="../g/footer.jpg" style="border:0" class="footer" width="800" height="334" />

</div>

<script>
try{e=document.getElementsByTagName("span");for(i=0;i<e.length;i++){if(e[i].className=="header_image"){src=e[i].getElementsByTagName("img")[0].src;document.getElementById("header_image").src=src;break;}}}catch(e){}
</script>
</body>

</html>