<html>

<head>
<title>NodeBox | Manipulating Paths</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="imagetoolbar" content="no" />
<meta http-equiv="linode" content="true"/>
<meta name="description" content="" />
<meta name="keywords" content="NodeBox, Manipulating Paths, " />
<link rel="alternate" type="application/rss+xml" title="NodeBox News Feed" href="https://nodebox.net/code/data/rss.xml" />
<link rel="canonical" href="https://nodebox.net/code/index.php/Manipulating_Paths" />
<link type="text/css" rel="stylesheet" media="screen" href="../../media/css/nbar.css">

<script type="text/javascript" src="../js/pop.js"></script>
<script type="text/javascript" src="../js/confirm.js"></script>
<link href="../css/default.css" rel="stylesheet" type="text/css" />
<link href="../css/print.css" rel="stylesheet" type="text/css" media="print" />
<!--[if gte IE 5.5]>
<script type="text/javascript" src="/code/js/pngfix.js"></script>
<![endif]-->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1668598-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body id="body" >
<div class="nbar">
  <ol>
    <li><a class="node" href="https://www.nodebox.net/code/">NodeBox 1<span class="nbar-arrow"></span></a>
      <ol class="nbar-dropdown">
        <li><a href="https://www.nodebox.net/">Homepage</a></li>
        <li><a href="https://www.nodebox.net/node/">NodeBox 3<small>Node-based app for generative design and data visualization</small></a></li>
        <li><a href="https://www.nodebox.net/opengl/">NodeBox OpenGL<small>Hardware-accelerated cross-platform graphics library</small></a></li>
        <li><a href="https://www.nodebox.net/code/">NodeBox 1<small>Generate 2D visuals using Python code (Mac OS X only)</small></a></li>
      </ol>
    </li>
    <li><a class="gallery" href="https://www.nodebox.net/gallery/">Gallery</a></li>
    <li><a class="documentation" href="Tutorial.html">Documentation</a></li>
    <li><a class="forum" href="http://support.nodebox.net/discussions">Forum</a></li>
    <li><a class="blog" href="https://www.nodebox.net/blog/">Blog</a></li>
  </ol>
</div>


<div id="all">
<div id="header_and_navigation">

<div id="header">
<a href="Home.html"><img id="header_image" src="../g/header-small.jpg" width="800" /></a></div>

<div id="title">
<a href="Home.html"><h1>NodeBox</h1>
<strong><em>Create visual output with Python programming code</em></strong>
</a></div>

<div id="contextual">
<div id="languages">
 
</div>

<div id="search">
<form id = "sf" method="get">
<input type="text" id="q" name="q" value="" />
<a href="javascript:document.getElementById('sf').submit();">GO</a>
</form>
</div>

</div>

<div id="navigation">
<div id="navigation_public">
<a id="" href="Home.html">Home</a> 
<a id="" href="Download.html">Download</a> 
<a id="" href="Reference.html">Reference</a> 
<a id="" href="Tutorial.html">Tutorial</a> 
<a id="" href="Library.html">Library</a> 
<a id="" href="Gallery.html">Gallery</a> 
<a id="" href="Share.html">Share</a> 
<a id="" href="About.html">About</a> 
</div>
</div>
 
</div>

<div id="content">

<div id="nodebox-link">
<a href="Home.html"><img src="../g/transparent.gif" /></a>
</div>

<div class="inside">
<? if (do_name() != 'Home') : ?>
 <h3>Manipulating Paths</h3><? endif ?>
<p>Each of the NodeBox shape commands (<a href="Reference_|_oval().html" target="_self">oval()</a>, <a href="Reference_|_rect().html" target="_self">rect()</a>, etc.) returns a path. This path is actually <b>a list of points</b>, in which each point (or <a href="Reference_|_PathElement.html" target="_self">PathElement</a>) has certain properties that you can manipulate. This way you can retrieve or edit the coordinates for each point, the coordinates of its control handles, and the kind of points you are dealing with (straight line, curve, pen move).</p>  <p>&nbsp;</p>  <table border="0"> <tbody><tr> <td><img src="../data/media/paths-transform1.jpg" /><br /><br /> This is the path and its points returned from the textpath() command, for the character <i>e</i> in the Dolly typeface:</td> <td><img src="../data/media/paths-transform2.jpg" /><br /><br /> This is the same path, but modified. The location of each point in the path is translated downwards.</td> </tr><tr> <td><pre class="python"><span style="color: #530035;">font</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;Dolly-Bold&quot;</span>, <span style="">300</span><span style="">&#41;</span>
path = <span style="color: #530035;">textpath</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;e&quot;</span>, <span style="">200</span>, <span style="">200</span><span style="">&#41;</span>
<span style="color: #530035;">drawpath</span><span style="">&#40;</span>path<span style="">&#41;</span></pre></pre></td> <td><pre class="python"><span style="color: #530035;">font</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;Dolly-Bold&quot;</span>, <span style="">300</span><span style="">&#41;</span>
path = <span style="color: #530035;">textpath</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;e&quot;</span>, <span style="">200</span>, <span style="">200</span><span style="">&#41;</span>
points = <span style="">&#91;</span><span style="">&#93;</span>
<span style="color: #530035;">for</span> point <span style="color: #530035;">in</span> path:
  point.<span style="">y</span> += <span style="">20</span> 
  points.<span style="">append</span><span style="">&#40;</span>point<span style="">&#41;</span> 
  <span style="color: #530035;">drawpath</span><span style="">&#40;</span>points<span style="">&#41;</span></pre></pre></td> </tr> </tbody></table>  <h2>Looping through all the points</h2>  <p>As the above example shows, you can easily manipulate a path by looping through all of the points in the path with a <a href="Repetition.html" target="_self">for-loop</a>, before actually drawing the path.</p>  <pre class="python">path = <span style="color: #530035;">textpath</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;hello&quot;</span>, <span style="">100</span>, <span style="">100</span><span style="">&#41;</span>
points = <span style="">&#91;</span><span style="">&#93;</span>
<span style="color: #530035;">for</span> point <span style="color: #530035;">in</span> path:
  <span style="color: grey;"># --&gt; Manipulate points here</span>
  points.<span style="">append</span><span style="">&#40;</span>point<span style="">&#41;</span>
<span style="color: #530035;">drawpath</span><span style="">&#40;</span>points<span style="">&#41;</span></pre></pre><pre class="python"><span style="color: #530035;">beginpath</span><span style="">&#40;</span><span style="">100</span>,<span style="">100</span><span style="">&#41;</span>
<span style="color: #530035;">curveto</span><span style="">&#40;</span><span style="">150</span>, <span style="">100</span>, <span style="">200</span>, <span style="">200</span>, <span style="">50</span>, <span style="">400</span><span style="">&#41;</span>
path = <span style="color: #530035;">endpath</span><span style="">&#40;</span>draw=<span style="color: #530035;">False</span><span style="">&#41;</span>
points = <span style="">&#91;</span><span style="">&#93;</span>
<span style="color: #530035;">for</span> point <span style="color: #530035;">in</span> path:
  <span style="color: grey;"># --&gt; Manipulate points here</span>
  points.<span style="">append</span><span style="">&#40;</span>point<span style="">&#41;</span>
<span style="color: #530035;">drawpath</span><span style="">&#40;</span>points<span style="">&#41;</span></pre></pre>  <h2>Manipulating points</h2>  <p>Each point in the path is a <a href="Reference_|_PathElement.html" target="_self">PathElement</a> object with the following attributes: </p>  <ul> <li><i>point.x</i>: the x-coordinate or horizontal location. </li> <li><i>point.y</i>: the y-coordinate or vertical location.<br /> </li> <li><i>point.cmd</i>: the type of line segment, either LINETO, CURVETO, MOVETO or CLOSE, </li> <li><i>point.ctrl1.x</i>: if CURVETO, the x-coordinate of the first control handle of the curve.<br /></li> <li><i>point.ctrl1.y</i>: if CURVETO, the y-coordinate of the first control handle of the curve.<br /></li> <li><i>point.ctrl2.x</i>: the x-coordinate of the second control handle. </li> <li><i>point.ctrl2.y</i>: the y-coordinate of the second control handle.</li> </ul>  <p>The handles are useful for paths that consist of multiple Bezier curves. The <i>ctrl1</i> handle of a point controls how the curve connects to the previous point, the <i>ctrl2</i> handle how the curve connects to the next point.</p><p>For example:</p>  <pre class="python"><span style="color: #530035;">nofill</span><span style="">&#40;</span><span style="">&#41;</span>
<span style="color: #530035;">stroke</span><span style="">&#40;</span><span style="">1</span><span style="">&#41;</span>
<span style="color: #530035;">autoclosepath</span><span style="">&#40;</span><span style="color: #530035;">False</span><span style="">&#41;</span>
<span style="color: #530035;">beginpath</span><span style="">&#40;</span><span style="">100</span>,<span style="">100</span><span style="">&#41;</span>
<span style="color: #530035;">curveto</span><span style="">&#40;</span><span style="">150</span>, <span style="">100</span>, <span style="">200</span>, <span style="">200</span>, <span style="">150</span>, <span style="">200</span><span style="">&#41;</span>
<span style="color: #530035;">curveto</span><span style="">&#40;</span><span style="">100</span>, <span style="">200</span>, <span style="">200</span>, <span style="">350</span>, <span style="">300</span>, <span style="">300</span><span style="">&#41;</span>
p = <span style="color: #530035;">endpath</span><span style="">&#40;</span><span style="">&#41;</span>
<span style="color: #530035;">print</span> p<span style="">&#91;</span><span style="">1</span><span style="">&#93;</span>.<span style="">ctrl1</span>.<span style="">x</span></pre></pre>  <p>&nbsp;</p>  <p><span class="media"><img src="../data/media/paths-ctrl1.jpg" height="256" width="341" /></span> </p>  <h2>Example</h2>  <p>The following example manipulates a text path, letting each curving point <i>droop</i> a bit (let&#39;s hope the guys at Underware don&#39;t freak when they see what happened their beautiful typeface)! Some more advanced math could create a handwritten variation of the text, or a text in which character looks different each time.</p>  <p><br /> <span class="media"><img src="../data/media/paths-broken.jpg" height="87" width="334" /></span>  <br /> <br /></p>  <pre class="python"><span style="color: #530035;">font</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;Dolly-Bold&quot;</span>, <span style="">100</span><span style="">&#41;</span>
path = <span style="color: #530035;">textpath</span><span style="">&#40;</span><span style="color: #ff0080;">&quot;broken&quot;</span>, <span style="">200</span>, <span style="">200</span><span style="">&#41;</span>
&nbsp;
points = <span style="">&#91;</span><span style="">&#93;</span>
<span style="color: #530035;">for</span> point <span style="color: #530035;">in</span> path:
&nbsp;
    <span style="color: #530035;">if</span> point.<span style="">cmd</span> == <span style="color: #530035;">CURVETO</span>:
        point.<span style="">ctrl2</span>.<span style="">x</span> += <span style="">5</span>
        point.<span style="">ctrl2</span>.<span style="">y</span> -= <span style="">10</span>
        point.<span style="">y</span> += <span style="">5</span>
    points.<span style="">append</span><span style="">&#40;</span>point<span style="">&#41;</span>
&nbsp;
<span style="color: #530035;">nofill</span><span style="">&#40;</span><span style="">&#41;</span>
<span style="color: #530035;">stroke</span><span style="">&#40;</span><span style="">0</span><span style="">&#41;</span>
<span style="color: #530035;">drawpath</span><span style="">&#40;</span>points<span style="">&#41;</span></pre></pre>  <? include("util/comment.php"); ?>
</div>
  
</div>

<div id="footer">
Last modified: Jan 15 2008 | &copy; 2004-2012 <a href="http://www.emrg.be/" class="noexternal">Experimental Media Research Group</a>
</div>
<img src="../g/footer.jpg" style="border:0" class="footer" width="800" height="334" />

</div>

<script>
try{e=document.getElementsByTagName("span");for(i=0;i<e.length;i++){if(e[i].className=="header_image"){src=e[i].getElementsByTagName("img")[0].src;document.getElementById("header_image").src=src;break;}}}catch(e){}
</script>
</body>

</html>